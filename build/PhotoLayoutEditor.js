!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define(["React","ReactDOM"],t):"object"==typeof exports?exports.PhotoLayoutEditor=t(require("React"),require("ReactDOM")):e.PhotoLayoutEditor=t(e.React,e.ReactDOM)}(window,function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=28)}([function(t,n){t.exports=e},function(e,t,n){e.exports=n(30)()},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var u in r)n.call(r,u)&&r[u]&&e.push(u)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resamplingImage=t.Canvas=t.makingImage=t.uploader=t.object=t.color=t.number=t.util=void 0;var r=p(n(50)),o=p(n(51)),i=p(n(22)),a=p(n(52)),u=f(n(53)),s=f(n(54)),l=f(n(55)),c=f(n(56));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.util=r,t.number=o,t.color=a,t.object=i,t.uploader=u.default,t.makingImage=s.default,t.Canvas=l.default,t.resamplingImage=c.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INIT_PLE="INIT_PLE",t.SIDE_VISIBLE="SIDE_VISIBLE",t.SIDE_ADD_FILES="SIDE_ADD_FILES",t.SIDE_REMOVE_FILES="SIDE_REMOVE_FILES",t.SIDE_UPDATE_SELECTED="SIDE_UPDATE_SELECTED",t.SIDE_TOGGLE="SIDE_TOGGLE",t.SIDE_UPDATE_PROGRESS="SIDE_UPDATE_PROGRESS",t.GRID_ATTACH_IMAGES="GRID_ATTACH_IMAGES",t.GRID_ATTACH_IMAGE="GRID_ATTACH_IMAGE",t.GRID_ADD_BLOCK="GRID_ADD_BLOCK",t.GRID_REMOVE_BLOCK="GRID_REMOVE_BLOCK",t.GRID_SHUFFLE_BLOCKS="GRID_SHUFFLE_BLOCKS",t.GRID_DUPLICATE_BLOCK="GRID_DUPLICATE_BLOCK",t.GRID_UPDATE_BLOCKS="GRID_UPDATE_BLOCKS",t.GRID_ACTIVE_BLOCK="GRID_ACTIVE_BLOCK",t.GRID_SETTING_UPDATE="GRID_SETTING_UPDATE",t.GRID_CHANGE_COLOR="GRID_CHANGE_COLOR",t.CROPPER_OPEN="CROPPER_OPEN",t.CROPPER_CLOSE="CROPPER_CLOSE"},function(e,t,n){var r;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,o){"use strict";var i=[],a=n.document,u=Object.getPrototypeOf,s=i.slice,l=i.concat,c=i.push,f=i.indexOf,p={},d=p.toString,h=p.hasOwnProperty,y=h.toString,g=y.call(Object),v={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},b=function(e){return null!=e&&e===e.window},w={type:!0,src:!0,noModule:!0};function _(e,t,n){var r,o=(t=t||a).createElement("script");if(o.text=e,n)for(r in w)n[r]&&(o[r]=n[r]);t.head.appendChild(o).parentNode.removeChild(o)}function E(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?p[d.call(e)]||"object":typeof e}var S="3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector",x=function(e,t){return new x.fn.init(e,t)},O=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function k(e){var t=!!e&&"length"in e&&e.length,n=E(e);return!m(e)&&!b(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}x.fn=x.prototype={jquery:S,constructor:x,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return x.each(this,e)},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:i.sort,splice:i.splice},x.extend=x.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},u=1,s=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[u]||{},u++),"object"==typeof a||m(a)||(a={}),u===s&&(a=this,u--);u<s;u++)if(null!=(e=arguments[u]))for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(x.isPlainObject(r)||(o=Array.isArray(r)))?(o?(o=!1,i=n&&Array.isArray(n)?n:[]):i=n&&x.isPlainObject(n)?n:{},a[t]=x.extend(l,i,r)):void 0!==r&&(a[t]=r));return a},x.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e))&&(!(t=u(e))||"function"==typeof(n=h.call(t,"constructor")&&t.constructor)&&y.call(n)===g)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){_(e)},each:function(e,t){var n,r=0;if(k(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(O,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(k(Object(e))?x.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:f.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,a=[];if(k(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&a.push(o);return l.apply([],a)},guid:1,support:v}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=i[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){p["[object "+t+"]"]=t.toLowerCase()});var C=function(e){var t,n,r,o,i,a,u,s,l,c,f,p,d,h,y,g,v,m,b,w="sizzle"+1*new Date,_=e.document,E=0,S=0,x=ae(),O=ae(),k=ae(),C=function(e,t){return e===t&&(f=!0),0},P={}.hasOwnProperty,j=[],T=j.pop,D=j.push,N=j.push,R=j.slice,I=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",A="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",z="\\["+A+"*("+L+")(?:"+A+"*([*^$|!~]?=)"+A+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+A+"*\\]",B=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",H=new RegExp(A+"+","g"),W=new RegExp("^"+A+"+|((?:^|[^\\\\])(?:\\\\.)*)"+A+"+$","g"),q=new RegExp("^"+A+"*,"+A+"*"),F=new RegExp("^"+A+"*([>+~]|"+A+")"+A+"*"),U=new RegExp("="+A+"*([^\\]'\"]*?)"+A+"*\\]","g"),$=new RegExp(B),G=new RegExp("^"+L+"$"),X={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+A+"*(even|odd|(([+-]|)(\\d*)n|)"+A+"*(?:([+-]|)"+A+"*(\\d+)|))"+A+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+A+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+A+"*((?:-\\d)?\\d*)"+A+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,V=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+A+"?|("+A+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){p()},oe=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{N.apply(j=R.call(_.childNodes),_.childNodes),j[_.childNodes.length].nodeType}catch(e){N={apply:j.length?function(e,t){D.apply(e,R.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ie(e,t,r,o){var i,u,l,c,f,h,v,m=t&&t.ownerDocument,E=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==E&&9!==E&&11!==E)return r;if(!o&&((t?t.ownerDocument||t:_)!==d&&p(t),t=t||d,y)){if(11!==E&&(f=J.exec(e)))if(i=f[1]){if(9===E){if(!(l=t.getElementById(i)))return r;if(l.id===i)return r.push(l),r}else if(m&&(l=m.getElementById(i))&&b(t,l)&&l.id===i)return r.push(l),r}else{if(f[2])return N.apply(r,t.getElementsByTagName(e)),r;if((i=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return N.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!k[e+" "]&&(!g||!g.test(e))){if(1!==E)m=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=w),u=(h=a(e)).length;u--;)h[u]="#"+c+" "+ve(h[u]);v=h.join(","),m=Q.test(e)&&ye(t.parentNode)||t}if(v)try{return N.apply(r,m.querySelectorAll(v)),r}catch(e){}finally{c===w&&t.removeAttribute("id")}}}return s(e.replace(W,"$1"),t,r,o)}function ae(){var e=[];return function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function ue(e){return e[w]=!0,e}function se(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function he(e){return ue(function(t){return t=+t,ue(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ie.support={},i=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=ie.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:_;return a!==d&&9===a.nodeType&&a.documentElement?(h=(d=a).documentElement,y=!i(d),_!==d&&(o=d.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",re,!1):o.attachEvent&&o.attachEvent("onunload",re)),n.attributes=se(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=se(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=K.test(d.getElementsByClassName),n.getById=se(function(e){return h.appendChild(e).id=w,!d.getElementsByName||!d.getElementsByName(w).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&y)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=K.test(d.querySelectorAll))&&(se(function(e){h.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+A+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+A+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]")}),se(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+A+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=K.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&se(function(e){n.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),v.push("!=",B)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=K.test(h.compareDocumentPosition),b=t||K.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===_&&b(_,e)?-1:t===d||t.ownerDocument===_&&b(_,t)?1:c?I(c,e)-I(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],u=[t];if(!o||!i)return e===d?-1:t===d?1:o?-1:i?1:c?I(c,e)-I(c,t):0;if(o===i)return ce(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;a[r]===u[r];)r++;return r?ce(a[r],u[r]):a[r]===_?-1:u[r]===_?1:0},d):d},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),t=t.replace(U,"='$1']"),n.matchesSelector&&y&&!k[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return ie(t,d,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),b(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var o=r.attrHandle[t.toLowerCase()],i=o&&P.call(r.attrHandle,t.toLowerCase())?o(e,t,!y):void 0;return void 0!==i?i:n.attributes||!y?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ie.escape=function(e){return(e+"").replace(te,ne)},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,r=[],o=0,i=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(C),f){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return c=null,e},o=ie.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(r=ie.selectors={cacheLength:50,createPseudo:ue,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|"+A+")"+e+"("+A+"|$)"))&&x(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=ie.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(H," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,s){var l,c,f,p,d,h,y=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=u&&t.nodeName.toLowerCase(),m=!s&&!u,b=!1;if(g){if(i){for(;y;){for(p=t;p=p[y];)if(u?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=y="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&m){for(b=(d=(l=(c=(f=(p=g)[w]||(p[w]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===E&&l[1])&&l[2],p=d&&g.childNodes[d];p=++d&&p&&p[y]||(b=d=0)||h.pop();)if(1===p.nodeType&&++b&&p===t){c[e]=[E,d,b];break}}else if(m&&(b=d=(l=(c=(f=(p=t)[w]||(p[w]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===E&&l[1]),!1===b)for(;(p=++d&&p&&p[y]||(b=d=0)||h.pop())&&((u?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++b||(m&&((c=(f=p[w]||(p[w]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[E,b]),p!==t)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return o[w]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ue(function(e,n){for(var r,i=o(e,t),a=i.length;a--;)e[r=I(e,i[a])]=!(n[r]=i[a])}):function(e){return o(e,0,n)}):o}},pseudos:{not:ue(function(e){var t=[],n=[],r=u(e.replace(W,"$1"));return r[w]?ue(function(e,t,n,o){for(var i,a=r(e,null,o,[]),u=e.length;u--;)(i=a[u])&&(e[u]=!(t[u]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}}),has:ue(function(e){return function(t){return ie(e,t).length>0}}),contains:ue(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:ue(function(e){return G.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=y?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return V.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ge(){}function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function me(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,u=S++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,s){var l,c,f,p=[E,u];if(s){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(c=(f=t[w]||(t[w]={}))[t.uniqueID]||(f[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[i])&&l[0]===E&&l[1]===u)return p[2]=l[2];if(c[i]=p,p[2]=e(t,n,s))return!0}return!1}}function be(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function we(e,t,n,r,o){for(var i,a=[],u=0,s=e.length,l=null!=t;u<s;u++)(i=e[u])&&(n&&!n(i,r,o)||(a.push(i),l&&t.push(u)));return a}function _e(e,t,n,r,o,i){return r&&!r[w]&&(r=_e(r)),o&&!o[w]&&(o=_e(o,i)),ue(function(i,a,u,s){var l,c,f,p=[],d=[],h=a.length,y=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)ie(e,t[r],n);return n}(t||"*",u.nodeType?[u]:u,[]),g=!e||!i&&t?y:we(y,p,e,u,s),v=n?o||(i?e:h||r)?[]:a:g;if(n&&n(g,v,u,s),r)for(l=we(v,d),r(l,[],u,s),c=l.length;c--;)(f=l[c])&&(v[d[c]]=!(g[d[c]]=f));if(i){if(o||e){if(o){for(l=[],c=v.length;c--;)(f=v[c])&&l.push(g[c]=f);o(null,v=[],l,s)}for(c=v.length;c--;)(f=v[c])&&(l=o?I(i,f):p[c])>-1&&(i[l]=!(a[l]=f))}}else v=we(v===a?v.splice(h,v.length):v),o?o(null,a,v,s):N.apply(a,v)})}function Ee(e){for(var t,n,o,i=e.length,a=r.relative[e[0].type],u=a||r.relative[" "],s=a?1:0,c=me(function(e){return e===t},u,!0),f=me(function(e){return I(t,e)>-1},u,!0),p=[function(e,n,r){var o=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,o}];s<i;s++)if(n=r.relative[e[s].type])p=[me(be(p),n)];else{if((n=r.filter[e[s].type].apply(null,e[s].matches))[w]){for(o=++s;o<i&&!r.relative[e[o].type];o++);return _e(s>1&&be(p),s>1&&ve(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(W,"$1"),n,s<o&&Ee(e.slice(s,o)),o<i&&Ee(e=e.slice(o)),o<i&&ve(e))}p.push(n)}return be(p)}return ge.prototype=r.filters=r.pseudos,r.setFilters=new ge,a=ie.tokenize=function(e,t){var n,o,i,a,u,s,l,c=O[e+" "];if(c)return t?0:c.slice(0);for(u=e,s=[],l=r.preFilter;u;){for(a in n&&!(o=q.exec(u))||(o&&(u=u.slice(o[0].length)||u),s.push(i=[])),n=!1,(o=F.exec(u))&&(n=o.shift(),i.push({value:n,type:o[0].replace(W," ")}),u=u.slice(n.length)),r.filter)!(o=X[a].exec(u))||l[a]&&!(o=l[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ie.error(e):O(e,s).slice(0)},u=ie.compile=function(e,t){var n,o=[],i=[],u=k[e+" "];if(!u){for(t||(t=a(e)),n=t.length;n--;)(u=Ee(t[n]))[w]?o.push(u):i.push(u);(u=k(e,function(e,t){var n=t.length>0,o=e.length>0,i=function(i,a,u,s,c){var f,h,g,v=0,m="0",b=i&&[],w=[],_=l,S=i||o&&r.find.TAG("*",c),x=E+=null==_?1:Math.random()||.1,O=S.length;for(c&&(l=a===d||a||c);m!==O&&null!=(f=S[m]);m++){if(o&&f){for(h=0,a||f.ownerDocument===d||(p(f),u=!y);g=e[h++];)if(g(f,a||d,u)){s.push(f);break}c&&(E=x)}n&&((f=!g&&f)&&v--,i&&b.push(f))}if(v+=m,n&&m!==v){for(h=0;g=t[h++];)g(b,w,a,u);if(i){if(v>0)for(;m--;)b[m]||w[m]||(w[m]=T.call(s));w=we(w)}N.apply(s,w),c&&!i&&w.length>0&&v+t.length>1&&ie.uniqueSort(s)}return c&&(E=x,l=_),b};return n?ue(i):i}(i,o))).selector=e}return u},s=ie.select=function(e,t,n,o){var i,s,l,c,f,p="function"==typeof e&&e,d=!o&&a(e=p.selector||e);if(n=n||[],1===d.length){if((s=d[0]=d[0].slice(0)).length>2&&"ID"===(l=s[0]).type&&9===t.nodeType&&y&&r.relative[s[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(Z,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(i=X.needsContext.test(e)?0:s.length;i--&&(l=s[i],!r.relative[c=l.type]);)if((f=r.find[c])&&(o=f(l.matches[0].replace(Z,ee),Q.test(s[0].type)&&ye(t.parentNode)||t))){if(s.splice(i,1),!(e=o.length&&ve(s)))return N.apply(n,o),n;break}}return(p||u(e,d))(o,t,!y,n,!t||Q.test(e)&&ye(t.parentNode)||t),n},n.sortStable=w.split("").sort(C).join("")===w,n.detectDuplicates=!!f,p(),n.sortDetached=se(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),se(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&se(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),se(function(e){return null==e.getAttribute("disabled")})||le(M,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ie}(n);x.find=C,x.expr=C.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=C.uniqueSort,x.text=C.getText,x.isXMLDoc=C.isXML,x.contains=C.contains,x.escapeSelector=C.escape;var P=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&x(e).is(n))break;r.push(e)}return r},j=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=x.expr.match.needsContext;function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function R(e,t,n){return m(t)?x.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?x.grep(e,function(e){return e===t!==n}):"string"!=typeof t?x.grep(e,function(e){return f.call(t,e)>-1!==n}):x.filter(t,e,n)}x.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},x.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;t<r;t++)if(x.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)x.find(e,o[t],n);return r>1?x.uniqueSort(n):n},filter:function(e){return this.pushStack(R(this,e||[],!1))},not:function(e){return this.pushStack(R(this,e||[],!0))},is:function(e){return!!R(this,"string"==typeof e&&T.test(e)?x(e):e||[],!1).length}});var I,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||I,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:M.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),N.test(r[1])&&x.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=a.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(x):x.makeArray(e,this)}).prototype=x.fn,I=x(a);var A=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function z(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}x.fn.extend({has:function(e){var t=x(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(x.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&x(e);if(!T.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?x.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?f.call(x(e),this[0]):f.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return P(e,"parentNode")},parentsUntil:function(e,t,n){return P(e,"parentNode",n)},next:function(e){return z(e,"nextSibling")},prev:function(e){return z(e,"previousSibling")},nextAll:function(e){return P(e,"nextSibling")},prevAll:function(e){return P(e,"previousSibling")},nextUntil:function(e,t,n){return P(e,"nextSibling",n)},prevUntil:function(e,t,n){return P(e,"previousSibling",n)},siblings:function(e){return j((e.parentNode||{}).firstChild,e)},children:function(e){return j(e.firstChild)},contents:function(e){return D(e,"iframe")?e.contentDocument:(D(e,"template")&&(e=e.content||e),x.merge([],e.childNodes))}},function(e,t){x.fn[e]=function(n,r){var o=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=x.filter(r,o)),this.length>1&&(L[e]||x.uniqueSort(o),A.test(e)&&o.reverse()),this.pushStack(o)}});var B=/[^\x20\t\r\n\f]+/g;function H(e){return e}function W(e){throw e}function q(e,t,n,r){var o;try{e&&m(o=e.promise)?o.call(e).done(t).fail(n):e&&m(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}x.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return x.each(e.match(B)||[],function(e,n){t[n]=!0}),t}(e):x.extend({},e);var t,n,r,o,i=[],a=[],u=-1,s=function(){for(o=o||e.once,r=t=!0;a.length;u=-1)for(n=a.shift();++u<i.length;)!1===i[u].apply(n[0],n[1])&&e.stopOnFalse&&(u=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},l={add:function(){return i&&(n&&!t&&(u=i.length-1,a.push(n)),function t(n){x.each(n,function(n,r){m(r)?e.unique&&l.has(r)||i.push(r):r&&r.length&&"string"!==E(r)&&t(r)})}(arguments),n&&!t&&s()),this},remove:function(){return x.each(arguments,function(e,t){for(var n;(n=x.inArray(t,i,n))>-1;)i.splice(n,1),n<=u&&u--}),this},has:function(e){return e?x.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||s()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},x.extend({Deferred:function(e){var t=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,r){var o=m(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=o&&o.apply(this,arguments);e&&m(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(e,r,o){var i=0;function a(e,t,r,o){return function(){var u=this,s=arguments,l=function(){var n,l;if(!(e<i)){if((n=r.apply(u,s))===t.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,m(l)?o?l.call(n,a(i,t,H,o),a(i,t,W,o)):(i++,l.call(n,a(i,t,H,o),a(i,t,W,o),a(i,t,H,t.notifyWith))):(r!==H&&(u=void 0,s=[n]),(o||t.resolveWith)(u,s))}},c=o?l:function(){try{l()}catch(n){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(n,c.stackTrace),e+1>=i&&(r!==W&&(u=void 0,s=[n]),t.rejectWith(u,s))}};e?c():(x.Deferred.getStackHook&&(c.stackTrace=x.Deferred.getStackHook()),n.setTimeout(c))}}return x.Deferred(function(n){t[0][3].add(a(0,n,m(o)?o:H,n.notifyWith)),t[1][3].add(a(0,n,m(e)?e:H)),t[2][3].add(a(0,n,m(r)?r:W))}).promise()},promise:function(e){return null!=e?x.extend(e,o):o}},i={};return x.each(t,function(e,n){var a=n[2],u=n[5];o[n[1]]=a.add,u&&a.add(function(){r=u},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=a.fireWith}),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=s.call(arguments),i=x.Deferred(),a=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?s.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(q(e,i.done(a(n)).resolve,i.reject,!t),"pending"===i.state()||m(o[n]&&o[n].then)))return i.then();for(;n--;)q(o[n],a(n),i.reject);return i.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&F.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},x.readyException=function(e){n.setTimeout(function(){throw e})};var U=x.Deferred();function $(){a.removeEventListener("DOMContentLoaded",$),n.removeEventListener("load",$),x.ready()}x.fn.ready=function(e){return U.then(e).catch(function(e){x.readyException(e)}),this},x.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--x.readyWait:x.isReady)||(x.isReady=!0,!0!==e&&--x.readyWait>0||U.resolveWith(a,[x]))}}),x.ready.then=U.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(x.ready):(a.addEventListener("DOMContentLoaded",$),n.addEventListener("load",$));var G=function(e,t,n,r,o,i,a){var u=0,s=e.length,l=null==n;if("object"===E(n))for(u in o=!0,n)G(e,t,u,n[u],!0,i,a);else if(void 0!==r&&(o=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(x(e),n)})),t))for(;u<s;u++)t(e[u],n,a?r:r.call(e[u],u,t(e[u],n)));return o?e:l?t.call(e):s?t(e[0],n):i},X=/^-ms-/,Y=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function K(e){return e.replace(X,"ms-").replace(Y,V)}var J=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=x.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},J(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[K(t)]=n;else for(r in t)o[K(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][K(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(K):(t=K(t))in r?[t]:t.match(B)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||x.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!x.isEmptyObject(t)}};var Z=new Q,ee=new Q,te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ne=/[A-Z]/g;function re(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ne,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:te.test(e)?JSON.parse(e):e)}(n)}catch(e){}ee.set(e,t,n)}else n=void 0;return n}x.extend({hasData:function(e){return ee.hasData(e)||Z.hasData(e)},data:function(e,t,n){return ee.access(e,t,n)},removeData:function(e,t){ee.remove(e,t)},_data:function(e,t,n){return Z.access(e,t,n)},_removeData:function(e,t){Z.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=ee.get(i),1===i.nodeType&&!Z.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=K(r.slice(5)),re(i,r,o[r]));Z.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){ee.set(this,e)}):G(this,function(t){var n;if(i&&void 0===t)return void 0!==(n=ee.get(i,e))?n:void 0!==(n=re(i,e))?n:void 0;this.each(function(){ee.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ee.remove(this,e)})}}),x.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Z.get(e,t),n&&(!r||Array.isArray(n)?r=Z.access(e,t,x.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,o=n.shift(),i=x._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,function(){x.dequeue(e,t)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z.get(e,n)||Z.access(e,n,{empty:x.Callbacks("once memory").add(function(){Z.remove(e,[t+"queue",n])})})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?x.queue(this[0],e):void 0===t?this:this.each(function(){var n=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=x.Deferred(),i=this,a=this.length,u=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Z.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(u));return u(),o.promise(t)}});var oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+oe+")([a-z%]*)$","i"),ae=["Top","Right","Bottom","Left"],ue=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&x.contains(e.ownerDocument,e)&&"none"===x.css(e,"display")},se=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=n.apply(e,r||[]),t)e.style[i]=a[i];return o};var le={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,o=le[r];return o||(t=n.body.appendChild(n.createElement(r)),o=x.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),le[r]=o,o)}function fe(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(o[i]=Z.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&ue(r)&&(o[i]=ce(r))):"none"!==n&&(o[i]="none",Z.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}x.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ue(this)?x(this).show():x(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ye={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?x.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)Z.set(e[n],"globalEval",!t||Z.get(t[n],"globalEval"))}ye.optgroup=ye.option,ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td;var me=/<|&#?\w+;/;function be(e,t,n,r,o){for(var i,a,u,s,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((i=e[d])||0===i)if("object"===E(i))x.merge(p,i.nodeType?[i]:i);else if(me.test(i)){for(a=a||f.appendChild(t.createElement("div")),u=(de.exec(i)||["",""])[1].toLowerCase(),s=ye[u]||ye._default,a.innerHTML=s[1]+x.htmlPrefilter(i)+s[2],c=s[0];c--;)a=a.lastChild;x.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(i));for(f.textContent="",d=0;i=p[d++];)if(r&&x.inArray(i,r)>-1)o&&o.push(i);else if(l=x.contains(i.ownerDocument,i),a=ge(f.appendChild(i),"script"),l&&ve(a),n)for(c=0;i=a[c++];)he.test(i.type||"")&&n.push(i);return f}!function(){var e=a.createDocumentFragment().appendChild(a.createElement("div")),t=a.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),v.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var we=a.documentElement,_e=/^key/,Ee=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=/^([^.]*)(?:\.(.+)|)/;function xe(){return!0}function Oe(){return!1}function ke(){try{return a.activeElement}catch(e){}}function Ce(e,t,n,r,o,i){var a,u;if("object"==typeof t){for(u in"string"!=typeof n&&(r=r||n,n=void 0),t)Ce(e,u,n,r,t[u],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Oe;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return x().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=x.guid++)),e.each(function(){x.event.add(this,t,o,r,n)})}x.event={global:{},add:function(e,t,n,r,o){var i,a,u,s,l,c,f,p,d,h,y,g=Z.get(e);if(g)for(n.handler&&(n=(i=n).handler,o=i.selector),o&&x.find.matchesSelector(we,o),n.guid||(n.guid=x.guid++),(s=g.events)||(s=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==x&&x.event.triggered!==t.type?x.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(B)||[""]).length;l--;)d=y=(u=Se.exec(t[l])||[])[1],h=(u[2]||"").split(".").sort(),d&&(f=x.event.special[d]||{},d=(o?f.delegateType:f.bindType)||d,f=x.event.special[d]||{},c=x.extend({type:d,origType:y,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&x.expr.match.needsContext.test(o),namespace:h.join(".")},i),(p=s[d])||((p=s[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,c):p.push(c),x.event.global[d]=!0)},remove:function(e,t,n,r,o){var i,a,u,s,l,c,f,p,d,h,y,g=Z.hasData(e)&&Z.get(e);if(g&&(s=g.events)){for(l=(t=(t||"").match(B)||[""]).length;l--;)if(d=y=(u=Se.exec(t[l])||[])[1],h=(u[2]||"").split(".").sort(),d){for(f=x.event.special[d]||{},p=s[d=(r?f.delegateType:f.bindType)||d]||[],u=u[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=p.length;i--;)c=p[i],!o&&y!==c.origType||n&&n.guid!==c.guid||u&&!u.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(i,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,g.handle)||x.removeEvent(e,d,g.handle),delete s[d])}else for(d in s)x.event.remove(e,d+t[l],n,r,!0);x.isEmptyObject(s)&&Z.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,u=x.event.fix(e),s=new Array(arguments.length),l=(Z.get(this,"events")||{})[u.type]||[],c=x.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(a=x.event.handlers.call(this,u,l),t=0;(o=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!u.rnamespace.test(i.namespace)||(u.handleObj=i,u.data=i.data,void 0!==(r=((x.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,o,i,a,u=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(i=[],a={},n=0;n<s;n++)void 0===a[o=(r=t[n]).selector+" "]&&(a[o]=r.needsContext?x(o,this).index(l)>-1:x.find(o,this,null,[l]).length),a[o]&&i.push(r);i.length&&u.push({elem:l,handlers:i})}return l=this,s<t.length&&u.push({elem:l,handlers:t.slice(s)}),u},addProp:function(e,t){Object.defineProperty(x.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[x.expando]?e:new x.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ke()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ke()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&D(this,"input"))return this.click(),!1},_default:function(e){return D(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},x.Event=function(e,t){if(!(this instanceof x.Event))return new x.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?xe:Oe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Oe,isPropagationStopped:Oe,isImmediatePropagationStopped:Oe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=xe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=xe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=xe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&_e.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ee.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},x.event.addProp),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,o=e.handleObj;return r&&(r===this||x.contains(this,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.fn.extend({on:function(e,t,n,r){return Ce(this,e,t,n,r)},one:function(e,t,n,r){return Ce(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,x(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Oe),this.each(function(){x.event.remove(this,e,n,t)})}});var Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,je=/<script|<style|<link/i,Te=/checked\s*(?:[^=]|=\s*.checked.)/i,De=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ne(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")&&x(e).children("tbody")[0]||e}function Re(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var n,r,o,i,a,u,s,l;if(1===t.nodeType){if(Z.hasData(e)&&(i=Z.access(e),a=Z.set(t,i),l=i.events))for(o in delete a.handle,a.events={},l)for(n=0,r=l[o].length;n<r;n++)x.event.add(t,o,l[o][n]);ee.hasData(e)&&(u=ee.access(e),s=x.extend({},u),ee.set(t,s))}}function Ae(e,t){var n=t.nodeName.toLowerCase();"input"===n&&pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Le(e,t,n,r){t=l.apply([],t);var o,i,a,u,s,c,f=0,p=e.length,d=p-1,h=t[0],y=m(h);if(y||p>1&&"string"==typeof h&&!v.checkClone&&Te.test(h))return e.each(function(o){var i=e.eq(o);y&&(t[0]=h.call(this,o,i.html())),Le(i,t,n,r)});if(p&&(i=(o=be(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(u=(a=x.map(ge(o,"script"),Re)).length;f<p;f++)s=o,f!==d&&(s=x.clone(s,!0,!0),u&&x.merge(a,ge(s,"script"))),n.call(e[f],s,f);if(u)for(c=a[a.length-1].ownerDocument,x.map(a,Ie),f=0;f<u;f++)s=a[f],he.test(s.type||"")&&!Z.access(s,"globalEval")&&x.contains(c,s)&&(s.src&&"module"!==(s.type||"").toLowerCase()?x._evalUrl&&x._evalUrl(s.src):_(s.textContent.replace(De,""),c,s))}return e}function ze(e,t,n){for(var r,o=t?x.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||x.cleanData(ge(r)),r.parentNode&&(n&&x.contains(r.ownerDocument,r)&&ve(ge(r,"script")),r.parentNode.removeChild(r));return e}x.extend({htmlPrefilter:function(e){return e.replace(Pe,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,u=e.cloneNode(!0),s=x.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(a=ge(u),r=0,o=(i=ge(e)).length;r<o;r++)Ae(i[r],a[r]);if(t)if(n)for(i=i||ge(e),a=a||ge(u),r=0,o=i.length;r<o;r++)Me(i[r],a[r]);else Me(e,u);return(a=ge(u,"script")).length>0&&ve(a,!s&&ge(e,"script")),u},cleanData:function(e){for(var t,n,r,o=x.event.special,i=0;void 0!==(n=e[i]);i++)if(J(n)){if(t=n[Z.expando]){if(t.events)for(r in t.events)o[r]?x.event.remove(n,r):x.removeEvent(n,r,t.handle);n[Z.expando]=void 0}n[ee.expando]&&(n[ee.expando]=void 0)}}}),x.fn.extend({detach:function(e){return ze(this,e,!0)},remove:function(e){return ze(this,e)},text:function(e){return G(this,function(e){return void 0===e?x.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Le(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)})},prepend:function(){return Le(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Le(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Le(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return G(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!je.test(e)&&!ye[(de.exec(e)||["",""])[1].toLowerCase()]){e=x.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(x.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Le(this,arguments,function(t){var n=this.parentNode;x.inArray(this,e)<0&&(x.cleanData(ge(this)),n&&n.replaceChild(t,this))},e)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){for(var n,r=[],o=x(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),x(o[a])[t](n),c.apply(r,n.get());return this.pushStack(r)}});var Be=new RegExp("^("+oe+")(?!px)[a-z%]+$","i"),He=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},We=new RegExp(ae.join("|"),"i");function qe(e,t,n){var r,o,i,a,u=e.style;return(n=n||He(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||x.contains(e.ownerDocument,e)||(a=x.style(e,t)),!v.pixelBoxStyles()&&Be.test(a)&&We.test(t)&&(r=u.width,o=u.minWidth,i=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=o,u.maxWidth=i)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",we.appendChild(l).appendChild(c);var e=n.getComputedStyle(c);r="1%"!==e.top,s=12===t(e.marginLeft),c.style.right="60%",u=36===t(e.right),o=36===t(e.width),c.style.position="absolute",i=36===c.offsetWidth||"absolute",we.removeChild(l),c=null}}function t(e){return Math.round(parseFloat(e))}var r,o,i,u,s,l=a.createElement("div"),c=a.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,x.extend(v,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),u},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i}}))}();var Ue=/^(none|table(?!-c[ea]).+)/,$e=/^--/,Ge={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"},Ye=["Webkit","Moz","ms"],Ve=a.createElement("div").style;function Ke(e){var t=x.cssProps[e];return t||(t=x.cssProps[e]=function(e){if(e in Ve)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Ye.length;n--;)if((e=Ye[n]+t)in Ve)return e}(e)||e),t}function Je(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,o,i){var a="width"===t?1:0,u=0,s=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(s+=x.css(e,n+ae[a],!0,o)),r?("content"===n&&(s-=x.css(e,"padding"+ae[a],!0,o)),"margin"!==n&&(s-=x.css(e,"border"+ae[a]+"Width",!0,o))):(s+=x.css(e,"padding"+ae[a],!0,o),"padding"!==n?s+=x.css(e,"border"+ae[a]+"Width",!0,o):u+=x.css(e,"border"+ae[a]+"Width",!0,o));return!r&&i>=0&&(s+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-s-u-.5))),s}function Ze(e,t,n){var r=He(e),o=qe(e,t,r),i="border-box"===x.css(e,"boxSizing",!1,r),a=i;if(Be.test(o)){if(!n)return o;o="auto"}return a=a&&(v.boxSizingReliable()||o===e.style[t]),("auto"===o||!parseFloat(o)&&"inline"===x.css(e,"display",!1,r))&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(o=parseFloat(o)||0)+Qe(e,t,n||(i?"border":"content"),a,r,o)+"px"}x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,u=K(t),s=$e.test(t),l=e.style;if(s||(t=Ke(u)),a=x.cssHooks[t]||x.cssHooks[u],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:l[t];"string"===(i=typeof n)&&(o=ie.exec(n))&&o[1]&&(n=function(e,t,n,r){var o,i,a=20,u=r?function(){return r.cur()}:function(){return x.css(e,t,"")},s=u(),l=n&&n[3]||(x.cssNumber[t]?"":"px"),c=(x.cssNumber[t]||"px"!==l&&+s)&&ie.exec(x.css(e,t));if(c&&c[3]!==l){for(s/=2,l=l||c[3],c=+s||1;a--;)x.style(e,t,c+l),(1-i)*(1-(i=u()/s||.5))<=0&&(a=0),c/=i;c*=2,x.style(e,t,c+l),n=n||[]}return n&&(c=+c||+s||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=o)),o}(e,t,o),i="number"),null!=n&&n==n&&("number"===i&&(n+=o&&o[3]||(x.cssNumber[u]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(s?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var o,i,a,u=K(t);return $e.test(t)||(t=Ke(u)),(a=x.cssHooks[t]||x.cssHooks[u])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=qe(e,t,r)),"normal"===o&&t in Xe&&(o=Xe[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),x.each(["height","width"],function(e,t){x.cssHooks[t]={get:function(e,n,r){if(n)return!Ue.test(x.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,t,r):se(e,Ge,function(){return Ze(e,t,r)})},set:function(e,n,r){var o,i=He(e),a="border-box"===x.css(e,"boxSizing",!1,i),u=r&&Qe(e,t,r,a,i);return a&&v.scrollboxSize()===i.position&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-Qe(e,t,"border",!1,i)-.5)),u&&(o=ie.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=x.css(e,t)),Je(0,n,u)}}}),x.cssHooks.marginLeft=Fe(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(qe(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+ae[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(x.cssHooks[e+t].set=Je)}),x.fn.extend({css:function(e,t){return G(this,function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=He(e),o=t.length;a<o;a++)i[t[a]]=x.css(e,t[a],!1,r);return i}return void 0!==n?x.style(e,t,n):x.css(e,t)},e,t,arguments.length>1)}}),x.fn.delay=function(e,t){return e=x.fx&&x.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,r){var o=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(o)}})},function(){var e=a.createElement("input"),t=a.createElement("select").appendChild(a.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=a.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var et,tt=x.expr.attrHandle;x.fn.extend({attr:function(e,t){return G(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})}}),x.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?x.prop(e,t,n):(1===i&&x.isXMLDoc(e)||(o=x.attrHooks[t.toLowerCase()]||(x.expr.match.bool.test(t)?et:void 0)),void 0!==n?null===n?void x.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=x.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&D(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(B);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),et={set:function(e,t,n){return!1===t?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,t){var n=tt[t]||x.find.attr;tt[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=tt[a],tt[a]=o,o=null!=n(e,t,r)?a:null,tt[a]=i),o}});var nt=/^(?:input|select|textarea|button)$/i,rt=/^(?:a|area)$/i;function ot(e){return(e.match(B)||[]).join(" ")}function it(e){return e.getAttribute&&e.getAttribute("class")||""}function at(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(B)||[]}x.fn.extend({prop:function(e,t){return G(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[x.propFix[e]||e]})}}),x.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&x.isXMLDoc(e)||(t=x.propFix[t]||t,o=x.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):nt.test(e.nodeName)||rt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.fn.extend({addClass:function(e){var t,n,r,o,i,a,u,s=0;if(m(e))return this.each(function(t){x(this).addClass(e.call(this,t,it(this)))});if((t=at(e)).length)for(;n=this[s++];)if(o=it(n),r=1===n.nodeType&&" "+ot(o)+" "){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(u=ot(r))&&n.setAttribute("class",u)}return this},removeClass:function(e){var t,n,r,o,i,a,u,s=0;if(m(e))return this.each(function(t){x(this).removeClass(e.call(this,t,it(this)))});if(!arguments.length)return this.attr("class","");if((t=at(e)).length)for(;n=this[s++];)if(o=it(n),r=1===n.nodeType&&" "+ot(o)+" "){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(u=ot(r))&&n.setAttribute("class",u)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):m(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,it(this),t),t)}):this.each(function(){var t,o,i,a;if(r)for(o=0,i=x(this),a=at(e);t=a[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=it(this))&&Z.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Z.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+ot(it(n))+" ").indexOf(t)>-1)return!0;return!1}});var ut=/\r/g;x.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=m(e),this.each(function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,x(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=x.map(o,function(e){return null==e?"":e+""})),(t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(ut,""):null==n?"":n:void 0}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:ot(x.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,u=a?null:[],s=a?i+1:o.length;for(r=i<0?s:a?i:0;r<s;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(t=x(n).val(),a)return t;u.push(t)}return u},set:function(e,t){for(var n,r,o=e.options,i=x.makeArray(t),a=o.length;a--;)((r=o[a]).selected=x.inArray(x.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=x.inArray(x(e).val(),t)>-1}},v.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in n;var st=/^(?:focusinfocus|focusoutblur)$/,lt=function(e){e.stopPropagation()};x.extend(x.event,{trigger:function(e,t,r,o){var i,u,s,l,c,f,p,d,y=[r||a],g=h.call(e,"type")?e.type:e,v=h.call(e,"namespace")?e.namespace.split("."):[];if(u=d=s=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!st.test(g+x.event.triggered)&&(g.indexOf(".")>-1&&(g=(v=g.split(".")).shift(),v.sort()),c=g.indexOf(":")<0&&"on"+g,(e=e[x.expando]?e:new x.Event(g,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:x.makeArray(t,[e]),p=x.event.special[g]||{},o||!p.trigger||!1!==p.trigger.apply(r,t))){if(!o&&!p.noBubble&&!b(r)){for(l=p.delegateType||g,st.test(l+g)||(u=u.parentNode);u;u=u.parentNode)y.push(u),s=u;s===(r.ownerDocument||a)&&y.push(s.defaultView||s.parentWindow||n)}for(i=0;(u=y[i++])&&!e.isPropagationStopped();)d=u,e.type=i>1?l:p.bindType||g,(f=(Z.get(u,"events")||{})[e.type]&&Z.get(u,"handle"))&&f.apply(u,t),(f=c&&u[c])&&f.apply&&J(u)&&(e.result=f.apply(u,t),!1===e.result&&e.preventDefault());return e.type=g,o||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(y.pop(),t)||!J(r)||c&&m(r[g])&&!b(r)&&((s=r[c])&&(r[c]=null),x.event.triggered=g,e.isPropagationStopped()&&d.addEventListener(g,lt),r[g](),e.isPropagationStopped()&&d.removeEventListener(g,lt),x.event.triggered=void 0,s&&(r[c]=s)),e.result}},simulate:function(e,t,n){var r=x.extend(new x.Event,n,{type:e,isSimulated:!0});x.event.trigger(r,null,t)}}),x.fn.extend({trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return x.event.trigger(e,t,n,!0)}}),v.focusin||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){x.event.simulate(t,e.target,x.event.fix(e))};x.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=Z.access(r,t);o||r.addEventListener(e,n,!0),Z.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=Z.access(r,t)-1;o?Z.access(r,t,o):(r.removeEventListener(e,n,!0),Z.remove(r,t))}}});var ct=/\[\]$/,ft=/\r?\n/g,pt=/^(?:submit|button|image|reset|file)$/i,dt=/^(?:input|select|textarea|keygen)/i;function ht(e,t,n,r){var o;if(Array.isArray(t))x.each(t,function(t,o){n||ct.test(e)?r(e,o):ht(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==E(t))r(e,t);else for(o in t)ht(e+"["+o+"]",t[o],n,r)}x.param=function(e,t){var n,r=[],o=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){o(this.name,this.value)});else for(n in e)ht(n,e[n],t,o);return r.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&dt.test(this.nodeName)&&!pt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:Array.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(ft,"\r\n")}}):{name:t.name,value:n.replace(ft,"\r\n")}}).get()}}),x.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return m(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=m(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){x(this).replaceWith(this.childNodes)}),this}}),x.expr.pseudos.hidden=function(e){return!x.expr.pseudos.visible(e)},x.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},v.createHTMLDocument=function(){var e=a.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),x.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,t.head.appendChild(r)):t=a),o=N.exec(e),i=!n&&[],o?[t.createElement(o[1])]:(o=be([e],t,i),i&&i.length&&x(i).remove(),x.merge([],o.childNodes)));var r,o,i},x.offset={setOffset:function(e,t,n){var r,o,i,a,u,s,l=x.css(e,"position"),c=x(e),f={};"static"===l&&(e.style.position="relative"),u=c.offset(),i=x.css(e,"top"),s=x.css(e,"left"),("absolute"===l||"fixed"===l)&&(i+s).indexOf("auto")>-1?(a=(r=c.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(s)||0),m(t)&&(t=t.call(e,n,x.extend({},u))),null!=t.top&&(f.top=t.top-u.top+a),null!=t.left&&(f.left=t.left-u.left+o),"using"in t?t.using.call(e,f):c.css(f)}},x.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){x.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===x.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===x.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=x(e).offset()).top+=x.css(e,"borderTopWidth",!0),o.left+=x.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-x.css(r,"marginTop",!0),left:t.left-o.left-x.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===x.css(e,"position");)e=e.offsetParent;return e||we})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;x.fn[e]=function(r){return G(this,function(e,r,o){var i;if(b(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o},e,r,arguments.length)}}),x.each(["top","left"],function(e,t){x.cssHooks[t]=Fe(v.pixelPosition,function(e,n){if(n)return n=qe(e,t),Be.test(n)?x(e).position()[t]+"px":n})}),x.each({Height:"height",Width:"width"},function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){x.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),u=n||(!0===o||!0===i?"margin":"border");return G(this,function(t,n,o){var i;return b(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?x.css(t,n,u):x.style(t,n,o,u)},t,a?o:void 0,a)}})}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),x.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),x.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||x.guid++,o},x.holdReady=function(e){e?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=D,x.isFunction=m,x.isWindow=b,x.camelCase=K,x.type=E,x.now=Date.now,x.isNumeric=function(e){var t=x.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(r=function(){return x}.apply(t,[]))||(e.exports=r);var yt=n.jQuery,gt=n.$;return x.noConflict=function(e){return n.$===x&&(n.$=gt),e&&n.jQuery===x&&(n.jQuery=yt),x},o||(n.jQuery=n.$=x),x})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.types=t.body=t.side=t.cropper=t.core=void 0;var r=s(n(34)),o=s(n(35)),i=s(n(36)),a=s(n(37)),u=s(n(4));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.core=r,t.cropper=i,t.side=a,t.body=o,t.types=u},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.r(t);var o=n(0),i=n(1),a=n.n(i),u=a.a.shape({trySubscribe:a.a.func.isRequired,tryUnsubscribe:a.a.func.isRequired,notifyNestedSubs:a.a.func.isRequired,isSubscribed:a.a.func.isRequired}),s=a.a.shape({subscribe:a.a.func.isRequired,dispatch:a.a.func.isRequired,getState:a.a.func.isRequired});function l(e){var t;void 0===e&&(e="store");var n=e+"Subscription",i=function(t){r(a,t);var i=a.prototype;function a(n,r){var o;return(o=t.call(this,n,r)||this)[e]=n.store,o}return i.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},i.render=function(){return o.Children.only(this.props.children)},a}(o.Component);return i.propTypes={store:s.isRequired,children:a.a.element.isRequired},i.childContextTypes=((t={})[e]=s.isRequired,t[n]=u,t),i}var c=l();function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var h=n(27),y=n.n(h),g=n(11),v=n.n(g),m=n(15),b=null,w={notify:function(){}};var _=function(){function e(e,t,n){this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=w}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function(){var e=[],t=[];return{clear:function(){t=b,e=b},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==b&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=w)},e}(),E=0,S={};function x(){}function O(e,t){var n,i;void 0===t&&(t={});var a=t,l=a.getDisplayName,c=void 0===l?function(e){return"ConnectAdvanced("+e+")"}:l,h=a.methodName,g=void 0===h?"connectAdvanced":h,b=a.renderCountProp,w=void 0===b?void 0:b,O=a.shouldHandleStateChanges,k=void 0===O||O,C=a.storeKey,P=void 0===C?"store":C,j=a.withRef,T=void 0!==j&&j,D=d(a,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),N=P+"Subscription",R=E++,I=((n={})[P]=s,n[N]=u,n),M=((i={})[N]=u,i);return function(t){v()(Object(m.isValidElementType)(t),"You must pass a component to the function returned by "+g+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",i=c(n),a=p({},D,{getDisplayName:c,methodName:g,renderCountProp:w,shouldHandleStateChanges:k,storeKey:P,withRef:T,displayName:i,wrappedComponentName:n,WrappedComponent:t}),u=function(n){function u(e,t){var r;return(r=n.call(this,e,t)||this).version=R,r.state={},r.renderCount=0,r.store=e[P]||t[P],r.propsMode=Boolean(e[P]),r.setWrappedInstance=r.setWrappedInstance.bind(f(f(r))),v()(r.store,'Could not find "'+P+'" in either the context or props of "'+i+'". Either wrap the root component in a <Provider>, or explicitly pass "'+P+'" as a prop to "'+i+'".'),r.initSelector(),r.initSubscription(),r}r(u,n);var s=u.prototype;return s.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[N]=t||this.context[N],e},s.componentDidMount=function(){k&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},s.componentWillReceiveProps=function(e){this.selector.run(e)},s.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},s.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=x,this.store=null,this.selector.run=x,this.selector.shouldComponentUpdate=!1},s.getWrappedInstance=function(){return v()(T,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+g+"() call."),this.wrappedInstance},s.setWrappedInstance=function(e){this.wrappedInstance=e},s.initSelector=function(){var t=e(this.store.dispatch,a);this.selector=function(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},s.initSubscription=function(){if(k){var e=(this.propsMode?this.props:this.context)[N];this.subscription=new _(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},s.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(S)):this.notifyNestedSubs()},s.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},s.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},s.addExtraProps=function(e){if(!(T||w||this.propsMode&&this.subscription))return e;var t=p({},e);return T&&(t.ref=this.setWrappedInstance),w&&(t[w]=this.renderCount++),this.propsMode&&this.subscription&&(t[N]=this.subscription),t},s.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(o.createElement)(t,this.addExtraProps(e.props))},u}(o.Component);return u.WrappedComponent=t,u.displayName=i,u.childContextTypes=M,u.contextTypes=I,u.propTypes=I,y()(u,t)}}var k=Object.prototype.hasOwnProperty;function C(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function P(e,t){if(C(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!k.call(t,n[o])||!C(e[n[o]],t[n[o]]))return!1;return!0}var j=n(10);function T(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function D(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function N(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=D(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=D(o),o=r(t,n)),o},r}}var R=[function(e){return"function"==typeof e?N(e):void 0},function(e){return e?void 0:T(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?T(function(t){return Object(j.bindActionCreators)(e,t)}):void 0}];var I=[function(e){return"function"==typeof e?N(e):void 0},function(e){return e?void 0:T(function(){return{}})}];function M(e,t,n){return p({},n,e,t)}var A=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,u){var s=e(t,n,u);return a?o&&i(s,r)||(r=s):(a=!0,r=s),r}}}(e):void 0},function(e){return e?void 0:function(){return M}}];function L(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function z(e,t,n,r,o){var i,a,u,s,l,c=o.areStatesEqual,f=o.areOwnPropsEqual,p=o.areStatePropsEqual,d=!1;function h(o,d){var h=!f(d,a),y=!c(o,i);return i=o,a=d,h&&y?(u=e(i,a),t.dependsOnOwnProps&&(s=t(r,a)),l=n(u,s,a)):h?(e.dependsOnOwnProps&&(u=e(i,a)),t.dependsOnOwnProps&&(s=t(r,a)),l=n(u,s,a)):y?function(){var t=e(i,a),r=!p(t,u);return u=t,r&&(l=n(u,s,a)),l}():l}return function(o,c){return d?h(o,c):function(o,c){return u=e(i=o,a=c),s=t(r,a),l=n(u,s,a),d=!0,l}(o,c)}}function B(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=d(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),u=r(e,i),s=o(e,i);return(i.pure?z:L)(a,u,s,e,i)}function H(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function W(e,t){return e===t}var q=function(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?O:n,o=t.mapStateToPropsFactories,i=void 0===o?I:o,a=t.mapDispatchToPropsFactories,u=void 0===a?R:a,s=t.mergePropsFactories,l=void 0===s?A:s,c=t.selectorFactory,f=void 0===c?B:c;return function(e,t,n,o){void 0===o&&(o={});var a=o,s=a.pure,c=void 0===s||s,h=a.areStatesEqual,y=void 0===h?W:h,g=a.areOwnPropsEqual,v=void 0===g?P:g,m=a.areStatePropsEqual,b=void 0===m?P:m,w=a.areMergedPropsEqual,_=void 0===w?P:w,E=d(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=H(e,i,"mapStateToProps"),x=H(t,u,"mapDispatchToProps"),O=H(n,l,"mergeProps");return r(f,p({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:x,initMergeProps:O,pure:c,areStatesEqual:y,areOwnPropsEqual:v,areStatePropsEqual:b,areMergedPropsEqual:_},E))}}();n.d(t,"Provider",function(){return c}),n.d(t,"createProvider",function(){return l}),n.d(t,"connectAdvanced",function(){return O}),n.d(t,"connect",function(){return q})},function(e,t,n){"use strict";t.__esModule=!0,t.noop=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.bottom=l,t.cloneLayout=function(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=c(e[n]);return t},t.cloneLayoutItem=c,t.childrenEqual=function(e,t){return(0,o.default)(i.default.Children.map(e,function(e){return e.key}),i.default.Children.map(t,function(e){return e.key}))},t.collides=f,t.compact=p,t.compactItem=y,t.correctBounds=g,t.getLayoutItem=v,t.getFirstCollision=m,t.getAllCollisions=b,t.getStatics=w,t.moveElement=_,t.moveElementAwayFromCollision=E,t.perc=function(e){return 100*e+"%"},t.setTransform=function(e){var t=e.top,n=e.left,r=e.width,o=e.height,i="translate("+n+"px,"+t+"px)";return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:r+"px",height:o+"px",position:"absolute"}},t.setTopLeft=function(e){var t=e.top,n=e.left,r=e.width,o=e.height;return{top:t+"px",left:n+"px",width:r+"px",height:o+"px",position:"absolute"}},t.sortLayoutItems=S,t.sortLayoutItemsByRowCol=x,t.sortLayoutItemsByColRow=O,t.synchronizeLayoutWithChildren=function(e,t,n,o){e=e||[];var a=[];return i.default.Children.forEach(t,function(t,n){var o=v(e,String(t.key));if(o)a[n]=c(o);else{!u&&t.props._grid&&console.warn("`_grid` properties on children have been deprecated as of React 15.2. Please use `data-grid` or add your properties directly to the `layout`.");var i=t.props["data-grid"]||t.props._grid;i?(u||k([i],"ReactGridLayout.children"),a[n]=c(r({},i,{i:t.key}))):a[n]=c({w:1,h:1,x:0,y:l(a),i:String(t.key)})}}),a=p(a=g(a,{cols:n}),o,n)},t.validateLayout=k,t.autoBindHandlers=function(e,t){t.forEach(function(t){return e[t]=e[t].bind(e)})};var o=a(n(12)),i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var u=!0,s=!1;function l(e){for(var t=0,n=void 0,r=0,o=e.length;r<o;r++)(n=e[r].y+e[r].h)>t&&(t=n);return t}function c(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable}}function f(e,t){return e!==t&&(!(e.x+e.w<=t.x)&&(!(e.x>=t.x+t.w)&&(!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h))))}function p(e,t,n){for(var r=w(e),o=S(e,t),i=Array(e.length),a=0,u=o.length;a<u;a++){var s=c(o[a]);s.static||(s=y(r,s,t,n,o),r.push(s)),i[e.indexOf(o[a])]=s,s.moved=!1}return i}var d={x:"w",y:"h"};function h(e,t,n,r){var o=d[r];t[r]+=1;for(var i=e.indexOf(t)+1;i<e.length;i++){var a=e[i];if(!a.static){if(a.y>t.y+t.h)break;f(t,a)&&h(e,a,n+t[o],r)}}t[r]=n}function y(e,t,n,r,o){var i="horizontal"===n;if("vertical"===n)for(t.y=Math.min(l(e),t.y);t.y>0&&!m(e,t);)t.y--;else if(i)for(t.y=Math.min(l(e),t.y);t.x>0&&!m(e,t);)t.x--;for(var a=void 0;a=m(e,t);)i?h(o,t,a.x+a.w,"x"):h(o,t,a.y+a.h,"y"),i&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t}function g(e,t){for(var n=w(e),r=0,o=e.length;r<o;r++){var i=e[r];if(i.x+i.w>t.cols&&(i.x=t.cols-i.w),i.x<0&&(i.x=0,i.w=t.cols),i.static)for(;m(n,i);)i.y++;else n.push(i)}return e}function v(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function m(e,t){for(var n=0,r=e.length;n<r;n++)if(f(e[n],t))return e[n]}function b(e,t){return e.filter(function(e){return f(e,t)})}function w(e){return e.filter(function(e){return e.static})}function _(e,t,n,r,o,i,a,u){if(t.static)return e;if(t.y===r&&t.x===n)return e;C("Moving element "+t.i+" to ["+String(n)+","+String(r)+"] from ["+t.x+","+t.y+"]");var s=t.x,l=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;var c=S(e,a);("vertical"===a&&"number"==typeof r?l>=r:"horizontal"===a&&"number"==typeof n&&s>=n)&&(c=c.reverse());var f=b(c,t);if(i&&f.length)return C("Collision prevented on "+t.i+", reverting."),t.x=s,t.y=l,t.moved=!1,e;for(var p=0,d=f.length;p<d;p++){var h=f[p];C("Resolving collision between "+t.i+" at ["+t.x+","+t.y+"] and "+h.i+" at ["+h.x+","+h.y+"]"),h.moved||(e=h.static?E(e,h,t,o,a,u):E(e,t,h,o,a,u))}return e}function E(e,t,n,r,o,i){var a="horizontal"===o,u="vertical"===o;if(r){r=!1;var s={x:a?Math.max(t.x-n.w,0):n.x,y:u?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!m(e,s))return C("Doing reverse collision on "+n.i+" up to ["+s.x+","+s.y+"]."),_(e,n,a?s.x:void 0,u?s.y:void 0,r,!1,o,i)}return _(e,n,a?n.x+1:void 0,u?n.y+1:void 0,r,!1,o,i)}function S(e,t){return"horizontal"===t?O(e):x(e)}function x(e){return[].concat(e).sort(function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1})}function O(e){return[].concat(e).sort(function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1})}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,o=e.length;r<o;r++){for(var i=e[r],a=0;a<n.length;a++)if("number"!=typeof i[n[a]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[a]+" must be a number!");if(i.i&&"string"!=typeof i.i)throw new Error("ReactGridLayout: "+t+"["+r+"].i must be a string!");if(void 0!==i.static&&"boolean"!=typeof i.static)throw new Error("ReactGridLayout: "+t+"["+r+"].static must be a boolean!")}}function C(){var e;s&&(e=console).log.apply(e,arguments)}t.noop=function(){}},function(e,n){e.exports=t},function(e,t,n){"use strict";n.r(t),n.d(t,"createStore",function(){return u}),n.d(t,"combineReducers",function(){return l}),n.d(t,"bindActionCreators",function(){return f}),n.d(t,"applyMiddleware",function(){return h}),n.d(t,"compose",function(){return d}),n.d(t,"__DO_NOT_USE__ActionTypes",function(){return i});var r=n(16),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function a(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function u(e,t,n){var o;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(u)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var s=e,l=t,c=[],f=c,p=!1;function d(){f===c&&(f=c.slice())}function h(){if(p)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function y(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(p)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return d(),f.push(e),function(){if(t){if(p)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,d();var n=f.indexOf(e);f.splice(n,1)}}}function g(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,l=s(l,e)}finally{p=!1}for(var t=c=f,n=0;n<t.length;n++){(0,t[n])()}return e}return g({type:i.INIT}),(o={dispatch:g,subscribe:y,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");s=e,g({type:i.REPLACE})}})[r.a]=function(){var e,t=y;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e},o}function s(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function l(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var a,u=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:i.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:i.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+i.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,o={},i=0;i<u.length;i++){var l=u[i],c=n[l],f=e[l],p=c(f,t);if(void 0===p){var d=s(l,t);throw new Error(d)}o[l]=p,r=r||p!==f}return r?o:e}}function c(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"==typeof e)return c(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},o=0;o<n.length;o++){var i=n[o],a=e[i];"function"==typeof a&&(r[i]=c(a,t))}return r}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map(function(e){return e(o)});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}({},n,{dispatch:r=d.apply(void 0,i)(n.dispatch)})}}}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,u],c=0;(s=new Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(e,t,n){(function(e,n){var r=200,o="__lodash_hash_undefined__",i=1,a=2,u=9007199254740991,s="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",f="[object Boolean]",p="[object Date]",d="[object Error]",h="[object Function]",y="[object GeneratorFunction]",g="[object Map]",v="[object Number]",m="[object Null]",b="[object Object]",w="[object Proxy]",_="[object RegExp]",E="[object Set]",S="[object String]",x="[object Symbol]",O="[object Undefined]",k="[object ArrayBuffer]",C="[object DataView]",P=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,T={};T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T[s]=T[l]=T[k]=T[f]=T[C]=T[p]=T[d]=T[h]=T[g]=T[v]=T[b]=T[_]=T[E]=T[S]=T["[object WeakMap]"]=!1;var D="object"==typeof e&&e&&e.Object===Object&&e,N="object"==typeof self&&self&&self.Object===Object&&self,R=D||N||Function("return this")(),I=t&&!t.nodeType&&t,M=I&&"object"==typeof n&&n&&!n.nodeType&&n,A=M&&M.exports===I,L=A&&D.process,z=function(){try{return L&&L.binding&&L.binding("util")}catch(e){}}(),B=z&&z.isTypedArray;function H(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function W(e,t){return e.has(t)}function q(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function F(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var U=Array.prototype,$=Function.prototype,G=Object.prototype,X=R["__core-js_shared__"],Y=$.toString,V=G.hasOwnProperty,K=function(){var e=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),J=G.toString,Q=RegExp("^"+Y.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Z=A?R.Buffer:void 0,ee=R.Symbol,te=R.Uint8Array,ne=G.propertyIsEnumerable,re=U.splice,oe=ee?ee.toStringTag:void 0,ie=Object.getOwnPropertySymbols,ae=Z?Z.isBuffer:void 0,ue=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),se=Ae(R,"DataView"),le=Ae(R,"Map"),ce=Ae(R,"Promise"),fe=Ae(R,"Set"),pe=Ae(R,"WeakMap"),de=Ae(Object,"create"),he=He(se),ye=He(le),ge=He(ce),ve=He(fe),me=He(pe),be=ee?ee.prototype:void 0,we=be?be.valueOf:void 0;function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Se;++t<n;)this.add(e[t])}function Oe(e){var t=this.__data__=new Ee(e);this.size=t.size}function ke(e,t){var n=Fe(e),r=!n&&qe(e),o=!n&&!r&&Ue(e),i=!n&&!r&&!o&&Ve(e),a=n||r||o||i,u=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],s=u.length;for(var l in e)!t&&!V.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Be(l,s))||u.push(l);return u}function Ce(e,t){for(var n=e.length;n--;)if(We(e[n][0],t))return n;return-1}function Pe(e){return null==e?void 0===e?O:m:oe&&oe in Object(e)?function(e){var t=V.call(e,oe),n=e[oe];try{e[oe]=void 0;var r=!0}catch(e){}var o=J.call(e);r&&(t?e[oe]=n:delete e[oe]);return o}(e):function(e){return J.call(e)}(e)}function je(e){return Ye(e)&&Pe(e)==s}function Te(e,t,n,r,o){return e===t||(null==e||null==t||!Ye(e)&&!Ye(t)?e!=e&&t!=t:function(e,t,n,r,o,u){var c=Fe(e),h=Fe(t),y=c?l:ze(e),m=h?l:ze(t),w=(y=y==s?b:y)==b,O=(m=m==s?b:m)==b,P=y==m;if(P&&Ue(e)){if(!Ue(t))return!1;c=!0,w=!1}if(P&&!w)return u||(u=new Oe),c||Ve(e)?Re(e,t,n,r,o,u):function(e,t,n,r,o,u,s){switch(n){case C:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!u(new te(e),new te(t)));case f:case p:case v:return We(+e,+t);case d:return e.name==t.name&&e.message==t.message;case _:case S:return e==t+"";case g:var l=q;case E:var c=r&i;if(l||(l=F),e.size!=t.size&&!c)return!1;var h=s.get(e);if(h)return h==t;r|=a,s.set(e,t);var y=Re(l(e),l(t),r,o,u,s);return s.delete(e),y;case x:if(we)return we.call(e)==we.call(t)}return!1}(e,t,y,n,r,o,u);if(!(n&i)){var j=w&&V.call(e,"__wrapped__"),T=O&&V.call(t,"__wrapped__");if(j||T){var D=j?e.value():e,N=T?t.value():t;return u||(u=new Oe),o(D,N,n,r,u)}}if(!P)return!1;return u||(u=new Oe),function(e,t,n,r,o,a){var u=n&i,s=Ie(e),l=s.length,c=Ie(t).length;if(l!=c&&!u)return!1;for(var f=l;f--;){var p=s[f];if(!(u?p in t:V.call(t,p)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var h=!0;a.set(e,t),a.set(t,e);for(var y=u;++f<l;){p=s[f];var g=e[p],v=t[p];if(r)var m=u?r(v,g,p,t,e,a):r(g,v,p,e,t,a);if(!(void 0===m?g===v||o(g,v,n,r,a):m)){h=!1;break}y||(y="constructor"==p)}if(h&&!y){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,o,u)}(e,t,n,r,Te,o))}function De(e){return!(!Xe(e)||function(e){return!!K&&K in e}(e))&&($e(e)?Q:P).test(He(e))}function Ne(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||G;return e===n}(e))return ue(e);var t=[];for(var n in Object(e))V.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Re(e,t,n,r,o,u){var s=n&i,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var f=u.get(e);if(f&&u.get(t))return f==t;var p=-1,d=!0,h=n&a?new xe:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var y=e[p],g=t[p];if(r)var v=s?r(g,y,p,t,e,u):r(y,g,p,e,t,u);if(void 0!==v){if(v)continue;d=!1;break}if(h){if(!H(t,function(e,t){if(!W(h,t)&&(y===e||o(y,e,n,r,u)))return h.push(t)})){d=!1;break}}else if(y!==g&&!o(y,g,n,r,u)){d=!1;break}}return u.delete(e),u.delete(t),d}function Ie(e){return function(e,t,n){var r=t(e);return Fe(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ke,Le)}function Me(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ae(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return De(n)?n:void 0}_e.prototype.clear=function(){this.__data__=de?de(null):{},this.size=0},_e.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},_e.prototype.get=function(e){var t=this.__data__;if(de){var n=t[e];return n===o?void 0:n}return V.call(t,e)?t[e]:void 0},_e.prototype.has=function(e){var t=this.__data__;return de?void 0!==t[e]:V.call(t,e)},_e.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=de&&void 0===t?o:t,this},Ee.prototype.clear=function(){this.__data__=[],this.size=0},Ee.prototype.delete=function(e){var t=this.__data__,n=Ce(t,e);return!(n<0||(n==t.length-1?t.pop():re.call(t,n,1),--this.size,0))},Ee.prototype.get=function(e){var t=this.__data__,n=Ce(t,e);return n<0?void 0:t[n][1]},Ee.prototype.has=function(e){return Ce(this.__data__,e)>-1},Ee.prototype.set=function(e,t){var n=this.__data__,r=Ce(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Se.prototype.clear=function(){this.size=0,this.__data__={hash:new _e,map:new(le||Ee),string:new _e}},Se.prototype.delete=function(e){var t=Me(this,e).delete(e);return this.size-=t?1:0,t},Se.prototype.get=function(e){return Me(this,e).get(e)},Se.prototype.has=function(e){return Me(this,e).has(e)},Se.prototype.set=function(e,t){var n=Me(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},xe.prototype.add=xe.prototype.push=function(e){return this.__data__.set(e,o),this},xe.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.clear=function(){this.__data__=new Ee,this.size=0},Oe.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Oe.prototype.get=function(e){return this.__data__.get(e)},Oe.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ee){var o=n.__data__;if(!le||o.length<r-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new Se(o)}return n.set(e,t),this.size=n.size,this};var Le=ie?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(ie(e),function(t){return ne.call(e,t)}))}:function(){return[]},ze=Pe;function Be(e,t){return!!(t=null==t?u:t)&&("number"==typeof e||j.test(e))&&e>-1&&e%1==0&&e<t}function He(e){if(null!=e){try{return Y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function We(e,t){return e===t||e!=e&&t!=t}(se&&ze(new se(new ArrayBuffer(1)))!=C||le&&ze(new le)!=g||ce&&"[object Promise]"!=ze(ce.resolve())||fe&&ze(new fe)!=E||pe&&"[object WeakMap]"!=ze(new pe))&&(ze=function(e){var t=Pe(e),n=t==b?e.constructor:void 0,r=n?He(n):"";if(r)switch(r){case he:return C;case ye:return g;case ge:return"[object Promise]";case ve:return E;case me:return"[object WeakMap]"}return t});var qe=je(function(){return arguments}())?je:function(e){return Ye(e)&&V.call(e,"callee")&&!ne.call(e,"callee")},Fe=Array.isArray;var Ue=ae||function(){return!1};function $e(e){if(!Xe(e))return!1;var t=Pe(e);return t==h||t==y||t==c||t==w}function Ge(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function Xe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ye(e){return null!=e&&"object"==typeof e}var Ve=B?function(e){return function(t){return e(t)}}(B):function(e){return Ye(e)&&Ge(e.length)&&!!T[Pe(e)]};function Ke(e){return function(e){return null!=e&&Ge(e.length)&&!$e(e)}(e)?ke(e):Ne(e)}n.exports=function(e,t){return Te(e,t)}}).call(this,n(17),n(41)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.util=t.color=void 0;var r=i(n(59)),o=i(n(69));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.color=r,t.util=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setting={base:{uploadScript:null,uploadParamsConvertFunc:null,updateStoreFunc:null},body:{setting:{width:100,height:100,column:6,outerMargin:10,innerMargin:10,freeMode:!1,bgColor:"rgba(255,255,255,1)"},blockColor:"rgba(234,234,234,1)",grid:[]},side:{files:[],visible:!0}},t.side={files:{},visible:!0,progressPercent:null}},function(e,t,n){"use strict";e.exports=n(32)},function(e,t,n){"use strict";(function(e,r){var o,i=n(26);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(i.a)(o);t.a=a}).call(this,n(17),n(29)(e))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(0)),i=c(n(1)),a=c(n(12)),u=c(n(2)),s=n(8),l=c(n(42));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return p.call(o),(0,s.autoBindHandlers)(o,["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)},t.prototype.componentWillReceiveProps=function(e){var t=void 0;if((0,a.default)(e.layout,this.props.layout)&&e.compactType===this.props.compactType?(0,s.childrenEqual)(this.props.children,e.children)||(t=this.state.layout):t=e.layout,t){var n=(0,s.synchronizeLayoutWithChildren)(t,e.children,e.cols,this.compactType(e)),r=this.state.layout;this.setState({layout:n}),this.onLayoutMaybeChanged(n,r)}},t.prototype.containerHeight=function(){if(this.props.autoSize){var e=(0,s.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}},t.prototype.compactType=function(e){return e||(e=this.props),!1===e.verticalCompact?null:e.compactType},t.prototype.onDragStart=function(e,t,n,r){var o=r.e,i=r.node,a=this.state.layout,u=(0,s.getLayoutItem)(a,e);if(u)return this.setState({oldDragItem:(0,s.cloneLayoutItem)(u),oldLayout:this.state.layout}),this.props.onDragStart(a,u,u,null,o,i)},t.prototype.onDrag=function(e,t,n,r){var o=r.e,i=r.node,a=this.state.oldDragItem,u=this.state.layout,l=this.props.cols,c=(0,s.getLayoutItem)(u,e);if(c){var f={w:c.w,h:c.h,x:c.x,y:c.y,placeholder:!0,i:e};u=(0,s.moveElement)(u,c,t,n,!0,this.props.preventCollision,this.compactType(),l),this.props.onDrag(u,a,c,f,o,i),this.setState({layout:(0,s.compact)(u,this.compactType(),l),activeDrag:f})}},t.prototype.onDragStop=function(e,t,n,r){var o=r.e,i=r.node,a=this.state.oldDragItem,u=this.state.layout,l=this.props,c=l.cols,f=l.preventCollision,p=(0,s.getLayoutItem)(u,e);if(p){u=(0,s.moveElement)(u,p,t,n,!0,f,this.compactType(),c),this.props.onDragStop(u,a,p,null,o,i);var d=(0,s.compact)(u,this.compactType(),c),h=this.state.oldLayout;this.setState({activeDrag:null,layout:d,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(d,h)}},t.prototype.onLayoutMaybeChanged=function(e,t){t||(t=this.state.layout),(0,a.default)(t,e)||this.props.onLayoutChange(e)},t.prototype.onResizeStart=function(e,t,n,r){var o=r.e,i=r.node,a=this.state.layout,u=(0,s.getLayoutItem)(a,e);u&&(this.setState({oldResizeItem:(0,s.cloneLayoutItem)(u),oldLayout:this.state.layout}),this.props.onResizeStart(a,u,u,null,o,i))},t.prototype.onResize=function(e,t,n,o){var i=o.e,a=o.node,u=this.state,l=u.layout,c=u.oldResizeItem,f=this.props,p=f.cols,d=f.preventCollision,h=(0,s.getLayoutItem)(l,e);if(h){var y=void 0;if(d){var g=(0,s.getAllCollisions)(l,r({},h,{w:t,h:n})).filter(function(e){return e.i!==h.i});if(y=g.length>0){var v=1/0,m=1/0;g.forEach(function(e){e.x>h.x&&(v=Math.min(v,e.x)),e.y>h.y&&(m=Math.min(m,e.y))}),Number.isFinite(v)&&(h.w=v-h.x),Number.isFinite(m)&&(h.h=m-h.y)}}y||(h.w=t,h.h=n);var b={w:h.w,h:h.h,x:h.x,y:h.y,static:!0,i:e};this.props.onResize(l,c,h,b,i,a),this.setState({layout:(0,s.compact)(l,this.compactType(),p),activeDrag:b})}},t.prototype.onResizeStop=function(e,t,n,r){var o=r.e,i=r.node,a=this.state,u=a.layout,l=a.oldResizeItem,c=this.props.cols,f=(0,s.getLayoutItem)(u,e);this.props.onResizeStop(u,l,f,null,o,i);var p=(0,s.compact)(u,this.compactType(),c),d=this.state.oldLayout;this.setState({activeDrag:null,layout:p,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(p,d)},t.prototype.placeholder=function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,r=t.cols,i=t.margin,a=t.containerPadding,u=t.rowHeight,s=t.maxRows,c=t.useCSSTransforms;return o.default.createElement(l.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:i,containerPadding:a||i,maxRows:s,rowHeight:u,isDraggable:!1,isResizable:!1,useCSSTransforms:c},o.default.createElement("div",null))},t.prototype.processGridItem=function(e){if(e&&e.key){var t=(0,s.getLayoutItem)(this.state.layout,String(e.key));if(!t)return null;var n=this.props,r=n.width,i=n.cols,a=n.margin,u=n.containerPadding,c=n.rowHeight,f=n.maxRows,p=n.isDraggable,d=n.isResizable,h=n.useCSSTransforms,y=n.draggableCancel,g=n.draggableHandle,v=this.state.mounted,m=Boolean(!t.static&&p&&(t.isDraggable||null==t.isDraggable)),b=Boolean(!t.static&&d&&(t.isResizable||null==t.isResizable));return o.default.createElement(l.default,{containerWidth:r,cols:i,margin:a,containerPadding:u||a,maxRows:f,rowHeight:c,cancel:y,handle:g,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:m,isResizable:b,useCSSTransforms:h&&v,usePercentages:!v,w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minH:t.minH,minW:t.minW,maxH:t.maxH,maxW:t.maxW,static:t.static},e)}},t.prototype.render=function(){var e=this,t=this.props,n=t.className,i=t.style,a=(0,u.default)("react-grid-layout",n),s=r({height:this.containerHeight()},i);return o.default.createElement("div",{className:a,style:s},o.default.Children.map(this.props.children,function(t){return e.processGridItem(t)}),this.placeholder())},t}(o.default.Component);f.displayName="ReactGridLayout",f.propTypes={className:i.default.string,style:i.default.object,width:i.default.number,autoSize:i.default.bool,cols:i.default.number,draggableCancel:i.default.string,draggableHandle:i.default.string,verticalCompact:function(e){e.verticalCompact,0},compactType:i.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&(0,s.validateLayout)(t,"layout")},margin:i.default.arrayOf(i.default.number),containerPadding:i.default.arrayOf(i.default.number),rowHeight:i.default.number,maxRows:i.default.number,isDraggable:i.default.bool,isResizable:i.default.bool,preventCollision:i.default.bool,useCSSTransforms:i.default.bool,onLayoutChange:i.default.func,onDragStart:i.default.func,onDrag:i.default.func,onDragStop:i.default.func,onResizeStart:i.default.func,onResize:i.default.func,onResizeStop:i.default.func,children:function(e,t){var n=e[t],r={};o.default.Children.forEach(n,function(e){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0})}},f.defaultProps={autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isDraggable:!0,isResizable:!0,useCSSTransforms:!0,verticalCompact:!0,compactType:"vertical",preventCollision:!1,onLayoutChange:s.noop,onDragStart:s.noop,onDrag:s.noop,onDragStop:s.noop,onResizeStart:s.noop,onResize:s.noop,onResizeStop:s.noop};var p=function(){this.state={activeDrag:null,layout:(0,s.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,this.compactType()),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null}};t.default=f},function(e,t,n){e.exports=function(e,t){"use strict";function n(e,t){return e(t={exports:{}},t.exports),t.exports}function r(e){return function(){return e}}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e};var i=o,a=function(e){};a=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")};var u=function(e,t,n,r,o,i,u,s){if(a(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,u,s],f=0;(l=new Error(t.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}},s=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}}).apply(void 0,[t].concat(r))}},l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,p=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,o=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))c.call(n,a)&&(o[a]=n[a]);if(l){r=l(n);for(var u=0;u<r.length;u++)f.call(n,r[u])&&(o[r[u]]=n[r[u]])}}return o},d="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",h=u,y=s,g=d,v={},m=function(e,t,n,r,o){for(var i in e)if(e.hasOwnProperty(i)){var a;try{h("function"==typeof e[i],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",r||"React class",n,i,typeof e[i]),a=e[i](t,i,r,n,null,g)}catch(e){a=e}if(y(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,i,typeof a),a instanceof Error&&!(a.message in v)){v[a.message]=!0;var u=o?o():"";y(!1,"Failed %s type: %s%s",n,a.message,null!=u?u:"")}}},b=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,r="@@iterator",o="<<anonymous>>",a={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:f(i.thatReturnsNull),arrayOf:function(e){return f(function(t,n,r,o,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a)){var u=g(a);return new c("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected an array.")}for(var s=0;s<a.length;s++){var l=e(a,s,r,o,i+"["+s+"]",d);if(l instanceof Error)return l}return null})},element:f(function(t,n,r,o,i){var a=t[n];if(!e(a)){var u=g(a);return new c("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected a single ReactElement.")}return null}),instanceOf:function(e){return f(function(t,n,r,i,a){if(!(t[n]instanceof e)){var u=e.name||o,s=function(e){return e.constructor&&e.constructor.name?e.constructor.name:o}(t[n]);return new c("Invalid "+i+" `"+a+"` of type `"+s+"` supplied to `"+r+"`, expected instance of `"+u+"`.")}return null})},node:f(function(e,t,n,r,o){return y(e[t])?null:new c("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}),objectOf:function(e){return f(function(t,n,r,o,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],u=g(a);if("object"!==u)return new c("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var s in a)if(a.hasOwnProperty(s)){var l=e(a,s,r,o,i+"."+s,d);if(l instanceof Error)return l}return null})},oneOf:function(e){return Array.isArray(e)?f(function(t,n,r,o,i){for(var a=t[n],u=0;u<e.length;u++)if(l(a,e[u]))return null;var s=JSON.stringify(e);return new c("Invalid "+o+" `"+i+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+s+".")}):(s(!1,"Invalid argument supplied to oneOf, expected an instance of array."),i.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return s(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),i.thatReturnsNull;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return s(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",b(n),t),i.thatReturnsNull}return f(function(t,n,r,o,i){for(var a=0;a<e.length;a++){var u=e[a];if(null==u(t,n,r,o,i,d))return null}return new c("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")})},shape:function(e){return f(function(t,n,r,o,i){var a=t[n],u=g(a);if("object"!==u)return new c("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var s in e){var l=e[s];if(l){var f=l(a,s,r,o,i+"."+s,d);if(f)return f}}return null})},exact:function(e){return f(function(t,n,r,o,i){var a=t[n],u=g(a);if("object"!==u)return new c("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");var s=p({},t[n],e);for(var l in s){var f=e[l];if(!f)return new c("Invalid "+o+" `"+i+"` key `"+l+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=f(a,l,r,o,i+"."+l,d);if(h)return h}return null})}};function l(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function c(e){this.message=e,this.stack=""}function f(e){var n={},r=0;function i(i,a,l,f,p,h,y){if(f=f||o,h=h||l,y!==d)if(t)u(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("undefined"!=typeof console){var g=f+":"+l;!n[g]&&r<3&&(s(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",h,f),n[g]=!0,r++)}return null==a[l]?i?null===a[l]?new c("The "+p+" `"+h+"` is marked as required in `"+f+"`, but its value is `null`."):new c("The "+p+" `"+h+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(a,l,f,p,h)}var a=i.bind(null,!1);return a.isRequired=i.bind(null,!0),a}function h(e){return f(function(t,n,r,o,i,a){var u=t[n];if(g(u)!==e){var s=v(u);return new c("Invalid "+o+" `"+i+"` of type `"+s+"` supplied to `"+r+"`, expected `"+e+"`.")}return null})}function y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||e(t))return!0;var o=function(e){var t=e&&(n&&e[n]||e[r]);if("function"==typeof t)return t}(t);if(!o)return!1;var i,a=o.call(t);if(o!==t.entries){for(;!(i=a.next()).done;)if(!y(i.value))return!1}else for(;!(i=a.next()).done;){var u=i.value;if(u&&!y(u[1]))return!1}return!0;default:return!1}}function g(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function v(e){if(void 0===e||null===e)return""+e;var t=g(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){var t=v(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return c.prototype=Error.prototype,a.checkPropTypes=m,a.PropTypes=a,a},w=n(function(e){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=b(function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},!0)}),_=n(function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o))e.push(n.apply(null,o));else if("object"===i)for(var a in o)t.call(o,a)&&o[a]&&e.push(a)}}return e.join(" ")}e.exports?e.exports=n:window.classNames=n}()});function E(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function S(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function x(e){return"number"==typeof e&&!isNaN(e)}function O(e){return parseInt(e,10)}function k(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}var C=["Moz","Webkit","O","ms"];function P(e,t){return t?""+t+function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e):e}var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<C.length;n++)if(P(e,C[n])in t)return C[n];return""}(),T=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},M=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},A=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},L="";function z(e,t){return L||(L=E(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return S(e[t])})),!!S(e[L])&&e[L](t)}function B(e,t,n){var r=e;do{if(z(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function H(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function W(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function q(e){if(e){var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: transparent;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {background: transparent;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&function(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)"+t+"(?!\\S)"))||(e.className+=" "+t)}(e.body,"react-draggable-transparent-selection")}}function F(e){try{e&&e.body&&function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)"+t+"(?!\\S)","g"),"")}(e.body,"react-draggable-transparent-selection"),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(e){}}function U(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(r);var o=Y(e);if("string"==typeof r){var i=o.ownerDocument,a=i.defaultView,u=void 0;if(!((u="parent"===r?o.parentNode:i.querySelector(r))instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var s=a.getComputedStyle(o),l=a.getComputedStyle(u);r={left:-o.offsetLeft+O(l.paddingLeft)+O(s.marginLeft),top:-o.offsetTop+O(l.paddingTop)+O(s.marginTop),right:function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=O(n.paddingLeft),t-=O(n.paddingRight)}(u)-function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=O(n.borderLeftWidth),t+=O(n.borderRightWidth)}(o)-o.offsetLeft+O(l.paddingRight)-O(s.marginRight),bottom:function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=O(n.paddingTop),t-=O(n.paddingBottom)}(u)-function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=O(n.borderTopWidth),t+=O(n.borderBottomWidth)}(o)-o.offsetTop+O(l.paddingBottom)-O(s.marginBottom)}}return x(r.right)&&(t=Math.min(t,r.right)),x(r.bottom)&&(n=Math.min(n,r.bottom)),x(r.left)&&(t=Math.max(t,r.left)),x(r.top)&&(n=Math.max(n,r.top)),[t,n]}function $(e,t,n){var r="number"==typeof t?function(e,t){return e.targetTouches&&E(e.targetTouches,function(e){return t===e.identifier})||e.changedTouches&&E(e.changedTouches,function(e){return t===e.identifier})}(e,t):null;if("number"==typeof t&&!r)return null;var o=Y(n),i=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return function(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),r=e.clientX+t.scrollLeft-n.left,o=e.clientY+t.scrollTop-n.top;return{x:r,y:o}}(r||e,i)}function G(e,t,n){var r=e.state,o=!x(r.lastX),i=Y(e);return o?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function X(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function Y(t){var n=e.findDOMNode(t);if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}var V={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},K=V.mouse,J=function(n){function r(){var t,n,o;T(this,r);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return o=M(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(a))),n=o,o.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},o.handleDragStart=function(t){if(o.props.onMouseDown(t),!o.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode(o);if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(o.props.disabled||!(t.target instanceof r.defaultView.Node)||o.props.handle&&!B(t.target,o.props.handle,n)||o.props.cancel&&B(t.target,o.props.cancel,n))){var i=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}(t);o.setState({touchIdentifier:i});var a=$(t,i,o);if(null!=a){var u=a.x,s=a.y,l=G(o,u,s);o.props.onStart;var c=o.props.onStart(t,l);!1!==c&&(o.props.enableUserSelectHack&&q(r),o.setState({dragging:!0,lastX:u,lastY:s}),H(r,K.move,o.handleDrag),H(r,K.stop,o.handleDragStop))}}},o.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=$(e,o.state.touchIdentifier,o);if(null!=t){var n=t.x,r=t.y;if(Array.isArray(o.props.grid)){var i=n-o.state.lastX,a=r-o.state.lastY,u=function(e,t,n){var r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]}(o.props.grid,i,a),s=A(u,2);if(i=s[0],a=s[1],!i&&!a)return;n=o.state.lastX+i,r=o.state.lastY+a}var l=G(o,n,r),c=o.props.onDrag(e,l);if(!1!==c)o.setState({lastX:n,lastY:r});else try{o.handleDragStop(new MouseEvent("mouseup"))}catch(e){var f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.handleDragStop(f)}}},o.handleDragStop=function(t){if(o.state.dragging){var n=$(t,o.state.touchIdentifier,o);if(null!=n){var r=n.x,i=n.y,a=G(o,r,i),u=e.findDOMNode(o);u&&o.props.enableUserSelectHack&&F(u.ownerDocument),o.setState({dragging:!1,lastX:NaN,lastY:NaN}),o.props.onStop(t,a),u&&(W(u.ownerDocument,K.move,o.handleDrag),W(u.ownerDocument,K.stop,o.handleDragStop))}}},o.onMouseDown=function(e){return K=V.mouse,o.handleDragStart(e)},o.onMouseUp=function(e){return K=V.mouse,o.handleDragStop(e)},o.onTouchStart=function(e){return K=V.touch,o.handleDragStart(e)},o.onTouchEnd=function(e){return K=V.touch,o.handleDragStop(e)},M(o,n)}return I(r,n),D(r,[{key:"componentWillUnmount",value:function(){var t=e.findDOMNode(this);if(t){var n=t.ownerDocument;W(n,V.mouse.move,this.handleDrag),W(n,V.touch.move,this.handleDrag),W(n,V.mouse.stop,this.handleDragStop),W(n,V.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&F(n)}}},{key:"render",value:function(){return t.cloneElement(t.Children.only(this.props.children),{style:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R({touchAction:"none"},e)}(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),r}(t.Component);J.displayName="DraggableCore",J.propTypes={allowAnyClick:w.bool,disabled:w.bool,enableUserSelectHack:w.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:w.arrayOf(w.number),scale:w.number,handle:w.string,cancel:w.string,onStart:w.func,onDrag:w.func,onStop:w.func,onMouseDown:w.func,className:k,style:k,transform:k},J.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}};var Q=function(n){function r(e){T(this,r);var t=M(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.onDragStart=function(e,n){var r=t.props.onStart(e,X(t,n));if(!1===r)return!1;t.setState({dragging:!0,dragged:!0})},t.onDrag=function(e,n){if(!t.state.dragging)return!1;var r=X(t,n),o={x:r.x,y:r.y};if(t.props.bounds){var i=o.x,a=o.y;o.x+=t.state.slackX,o.y+=t.state.slackY;var u=U(t,o.x,o.y),s=A(u,2),l=s[0],c=s[1];o.x=l,o.y=c,o.slackX=t.state.slackX+(i-o.x),o.slackY=t.state.slackY+(a-o.y),r.x=o.x,r.y=o.y,r.deltaX=o.x-t.state.x,r.deltaY=o.y-t.state.y}var f=t.props.onDrag(e,r);if(!1===f)return!1;t.setState(o)},t.onDragStop=function(e,n){if(!t.state.dragging)return!1;var r=t.props.onStop(e,X(t,n));if(!1===r)return!1;var o={dragging:!1,slackX:0,slackY:0},i=Boolean(t.props.position);if(i){var a=t.props.position,u=a.x,s=a.y;o.x=u,o.y=s}t.setState(o)},t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},t}return I(r,n),D(r,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&e.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,n={},r=null,o=Boolean(this.props.position),i=!o||this.state.dragging,a=this.props.position||this.props.defaultPosition,u={x:function(e){return"both"===e.props.axis||"x"===e.props.axis}(this)&&i?this.state.x:a.x,y:function(e){return"both"===e.props.axis||"y"===e.props.axis}(this)&&i?this.state.y:a.y};this.state.isElementSVG?r=function(e){var t=e.x,n=e.y;return"translate("+t+","+n+")"}(u):n=function(e){var t=e.x,n=e.y;return N({},P("transform",j),"translate("+t+"px,"+n+"px)")}(u);var s=this.props,l=s.defaultClassName,c=s.defaultClassNameDragging,f=s.defaultClassNameDragged,p=t.Children.only(this.props.children),d=_(p.props.className||"",l,(N(e={},c,this.state.dragging),N(e,f,this.state.dragged),e));return t.createElement(J,R({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(p,{className:d,style:R({},p.props.style,n),transform:r}))}}]),r}(t.Component);return Q.displayName="Draggable",Q.propTypes=R({},J.propTypes,{axis:w.oneOf(["both","x","y","none"]),bounds:w.oneOfType([w.shape({left:w.number,right:w.number,top:w.number,bottom:w.number}),w.string,w.oneOf([!1])]),defaultClassName:w.string,defaultClassNameDragging:w.string,defaultClassNameDragged:w.string,defaultPosition:w.shape({x:w.number,y:w.number}),position:w.shape({x:w.number,y:w.number}),className:k,style:k,transform:k}),Q.defaultProps=R({},J.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}),Q.default=Q,Q.DraggableCore=J,Q}(n(9),n(0))},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(0)),i=s(n(1)),a=n(19),u=s(n(44));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=l(this,e.call.apply(e,[this].concat(i))),r.state={resizing:!1,width:r.props.width,height:r.props.height,slackW:0,slackH:0},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){this.state.resizing||e.width===this.props.width&&e.height===this.props.height||this.setState({width:e.width,height:e.height})},t.prototype.lockAspectRatio=function(e,t,n){return[e=(t=e/n)*n,t]},t.prototype.runConstraints=function(e,t){var n=[this.props.minConstraints,this.props.maxConstraints],r=n[0],o=n[1];if(this.props.lockAspectRatio){var i=this.state.width/this.state.height;e=(t=e/i)*i}if(!r&&!o)return[e,t];var a=e,u=t,s=this.state,l=s.slackW,c=s.slackH;return e+=l,t+=c,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),o&&(e=Math.min(o[0],e),t=Math.min(o[1],t)),c+=u-t,(l+=a-e)===this.state.slackW&&c===this.state.slackH||this.setState({slackW:l,slackH:c}),[e,t]},t.prototype.resizeHandler=function(e){var t=this;return function(n,r){var o=r.node,i=r.deltaX,a=r.deltaY,u="both"===t.props.axis||"x"===t.props.axis,s="both"===t.props.axis||"y"===t.props.axis,l=t.state.width+(u?i:0),c=t.state.height+(s?a:0),f=l!==t.state.width,p=c!==t.state.height;if("onResize"!==e||f||p){var d=t.runConstraints(l,c);l=d[0],c=d[1];var h={};if("onResizeStart"===e)h.resizing=!0;else if("onResizeStop"===e)h.resizing=!1,h.slackW=h.slackH=0;else{if(l===t.state.width&&c===t.state.height)return;h.width=l,h.height=c}"function"==typeof t.props[e]?("function"==typeof n.persist&&n.persist(),t.setState(h,function(){return t.props[e](n,{node:o,size:{width:l,height:c}})})):t.setState(h)}}},t.prototype.render=function(){var e=this.props,t=e.children,n=e.draggableOpts,i=(e.width,e.height,e.handleSize,e.lockAspectRatio,e.axis,e.minConstraints,e.maxConstraints,e.onResize,e.onResizeStop,e.onResizeStart,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","draggableOpts","width","height","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart"])),s=i.className?i.className+" react-resizable":"react-resizable";return(0,u.default)(t,r({},i,{className:s,children:[t.props.children,o.default.createElement(a.DraggableCore,r({},n,{key:"resizableHandle",onStop:this.resizeHandler("onResizeStop"),onStart:this.resizeHandler("onResizeStart"),onDrag:this.resizeHandler("onResize")}),o.default.createElement("span",{className:"react-resizable-handle"}))]}))},t}(o.default.Component);c.propTypes={children:i.default.element.isRequired,width:i.default.number.isRequired,height:i.default.number.isRequired,handleSize:i.default.array,lockAspectRatio:i.default.bool,axis:i.default.oneOf(["both","x","y","none"]),minConstraints:i.default.arrayOf(i.default.number),maxConstraints:i.default.arrayOf(i.default.number),onResizeStop:i.default.func,onResizeStart:i.default.func,onResize:i.default.func,draggableOpts:i.default.object},c.defaultProps={handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0]},t.default=c},function(e,t,n){"use strict";t.__esModule=!0,t.getBreakpointFromWidth=function(e,t){for(var n=o(e),r=n[0],i=1,a=n.length;i<a;i++){var u=n[i];t>e[u]&&(r=u)}return r},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.findOrGenerateResponsiveLayout=function(e,t,n,i,a,u){if(e[n])return(0,r.cloneLayout)(e[n]);for(var s=e[i],l=o(t),c=l.slice(l.indexOf(n)),f=0,p=c.length;f<p;f++){var d=c[f];if(e[d]){s=e[d];break}}return s=(0,r.cloneLayout)(s||[]),(0,r.compact)((0,r.correctBounds)(s,{cols:a}),u,a)},t.sortBreakpoints=o;var r=n(8);function o(e){return Object.keys(e).sort(function(t,n){return e[t]-e[n]})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!(!e||!e.length)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(0)),a=p(n(1)),u=p(n(2)),s=p(n(58)),l=p(n(70)),c=p(n(71)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(13));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={color:f.color.parseToHsv(e.color)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state,n=f.color.parseToHsv(e.color);f.color.equals(t.color,n)||this.setState({color:n})}},{key:"getAlpha",value:function(){var e=this.state;return void 0===e.color[3]?1:e.color[3]}},{key:"getBackgroundGradient",value:function(){var e=r(this.state.color,3),t=e[0],n=e[1],o=e[2];return"linear-gradient(to right, rgba(0,0,0,0) 0%, "+f.color.toRgbString([t,n,o,1])+" 100%)"}},{key:"getBackgroundHue",value:function(){return f.color.toRgbString([this.state.color[0],100,100])}},{key:"update",value:function(e){var t=this.props;this.setState({color:e}),t.onChange(f.color.toRgbString(e))}},{key:"changeColor",value:function(e){var t=f.color.parseToHsv(e);f.color.equals(this.state.color,t)||this.setState({color:t})}},{key:"render",value:function(){var e=this,t=this.state,n=this.props,o=r(t.color,3),a=o[0],p=o[1],d=o[2];return i.default.createElement("div",{className:(0,u.default)("colorpicker",n.className)},i.default.createElement(l.default,{x:p,y:d,max:100,backgroundColor:this.getBackgroundHue(),onChange:function(n,o){var i=r(t.color,4),a=i[0],u=i[3];e.update([a,n,o,u])},className:(0,u.default)("colorpicker__map",{"cpMap-dark":f.color.isDark(t.color),"cpMap-light":!f.color.isDark(t.color)})}),i.default.createElement("div",{className:"colorpicker__body"},i.default.createElement("nav",{className:"colorpicker__controller"},i.default.createElement(s.default,{value:a,max:360,onChange:function(n){var o=r(t.color,4),i=o[1],a=o[2],u=o[3];e.update([n,i,a,u])},className:"colorpicker__slider cpSlider-hue"}),i.default.createElement(s.default,{value:this.getAlpha(),max:1,background:this.getBackgroundGradient(),onChange:function(n){var o=r(t.color,3),i=o[0],a=o[1],u=o[2];e.update([i,a,u,n])},className:"colorpicker__slider cpSlider-opacity"})),i.default.createElement("figure",{className:"cpPreview colorpicker__preview"},i.default.createElement("span",null,i.default.createElement("i",{style:{backgroundColor:f.color.toRgbString(t.color)}})))),i.default.createElement(c.default,{colors:n.paletteColors,onSelectColor:function(t){var n=f.color.parseToHsv(t),o=r(n,4),i=o[0],a=o[1],u=o[2],s=o[3];e.update([i,a,u,s])},className:"colorpicker__palette"}))}}]),t}();d.propTypes={color:a.default.string.isRequired,onChange:a.default.func.isRequired},d.defaultProps={color:"rgba(0,0,0,1)",onChange:function(e){},paletteColors:["#D0011B","#F6A623","#F8E81C","#8B572A","#7ED321","#417505","#BD0FE1","#9012FE","#4990E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF","#B31F37"],className:null},t.default=d},function(e,t){var n=/-?\d+(\.\d+)?%?/g;e.exports=function(e){return e.match(n)}},function(e,t){e.exports=function(e,t,n){return Math.min(Math.max(e,t),n)}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(15),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?a:u[e.$$typeof]||o}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=d(n);o&&o!==h&&e(t,o,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var u=s(t),y=s(n),g=0;g<a.length;++g){var v=a[g];if(!(i[v]||r&&r[v]||y&&y[v]||u&&u[v])){var m=p(n,v);try{l(t,v,m)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),i=n(10),a=n(7),u=c(n(33)),s=c(n(80)),l=c(n(86));function c(e){return e&&e.__esModule?e:{default:e}}n(91);var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.store=(0,i.createStore)(s.default),e.api=new l.default(e.store),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=this.props;return o.default.createElement(a.Provider,{store:this.store},o.default.createElement(u.default,{parent:{preference:e,api:this.api}}))}}]),t}();f.displayName="PhotoLayoutEditor",t.default=f},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";var r=n(31);function o(){}e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case p:case a:case s:case u:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case l:return e;default:return t}}case g:case y:case i:return t}}}function m(e){return v(e)===p}t.typeOf=v,t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=l,t.Element=o,t.ForwardRef=d,t.Fragment=a,t.Lazy=g,t.Memo=y,t.Portal=i,t.Profiler=s,t.StrictMode=u,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===s||e===u||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===y||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d)},t.isAsyncMode=function(e){return m(e)||v(e)===f},t.isConcurrentMode=m,t.isContextConsumer=function(e){return v(e)===c},t.isContextProvider=function(e){return v(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return v(e)===d},t.isFragment=function(e){return v(e)===a},t.isLazy=function(e){return v(e)===g},t.isMemo=function(e){return v(e)===y},t.isPortal=function(e){return v(e)===i},t.isProfiler=function(e){return v(e)===s},t.isStrictMode=function(e){return v(e)===u},t.isSuspense=function(e){return v(e)===h}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),i=n(7),a=c(n(2)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6)),s=c(n(38)),l=c(n(74));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.el=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props;this.checkChangeStore(t,e)}},{key:"componentDidMount",value:function(){var e=this.props;e.dispatch(u.core.init(e.parent.api,e.parent.preference||{side:{},body:{}},this.el))}},{key:"checkChangeStore",value:function(e,t){if(!t.setting.base.updateStoreFunc||"function"!=typeof t.setting.base.updateStoreFunc)return null;e.tree.side.visible===t.tree.side.visible&&e.tree.side.files===t.tree.side.files&&e.tree.body.setting===t.tree.body.setting&&e.tree.body.grid===t.tree.body.grid||t.setting.base.updateStoreFunc()}},{key:"render",value:function(){var e=this,t=this.props;return o.default.createElement("div",{ref:function(t){e.el=t},className:(0,a.default)("ple-editor",{"ple-side-active":t.tree.side.visible})},t.setting&&o.default.createElement("div",{className:"ple-wrap"},o.default.createElement(s.default,null),o.default.createElement(l.default,null)))}}]),t}();f.displayName="Container",f.defaultProps={parent:{},dispatch:null,tree:{},setting:null},t.default=(0,i.connect)(function(e){return Object.assign({},e,{})})(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e,t,n){return{type:r.INIT_PLE,api:e,preference:t,element:n}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addBlock=function(e){return{type:r.GRID_ADD_BLOCK,value:e}},t.removeBlock=function(e){return{type:r.GRID_REMOVE_BLOCK,keys:e}},t.shuffleBlocks=function(e){return{type:r.GRID_SHUFFLE_BLOCKS,value:e}},t.duplicateBlock=function(e){return{type:r.GRID_DUPLICATE_BLOCK,keys:e}},t.updateBlocks=function(e){return{type:r.GRID_UPDATE_BLOCKS,value:e}},t.activeBlock=function(e){return{type:r.GRID_ACTIVE_BLOCK,value:e}},t.changeColorBlock=function(e,t){return{type:r.GRID_CHANGE_COLOR,keys:e,color:t}},t.updateSetting=function(e){return{type:r.GRID_SETTING_UPDATE,value:e}},t.attachImages=function(e,t,n){return{type:r.GRID_ATTACH_IMAGES,value:e,columns:t,activeBlocks:n}},t.attachImage=function(e,t){return{type:r.GRID_ATTACH_IMAGE,keys:e,image:t}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.open=function(e,t){return{type:r.CROPPER_OPEN,item:t,key:e}},t.close=function(e,t,n){return{type:r.CROPPER_CLOSE,key:e,position:t,size:n}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visible=function(e){return{type:r.SIDE_VISIBLE,value:e}},t.toggle=function(){return{type:r.SIDE_TOGGLE}},t.addFiles=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:r.SIDE_ADD_FILES,files:e}},t.removeFiles=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:r.SIDE_REMOVE_FILES,keys:e}},t.updateSelected=function(e){return{type:r.SIDE_UPDATE_SELECTED,value:e}},t.updateProgress=function(e){return{type:r.SIDE_UPDATE_PROGRESS,value:e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(0)),i=u(n(39)),a=u(n(57));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){return o.default.createElement("div",{className:"ple-container"},o.default.createElement("div",{className:"ple-body"},o.default.createElement(a.default,null),o.default.createElement(i.default,null)))}}]),t}();s.displayName="Body",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(0)),a=n(7),u=d(n(40)),s=d(n(2)),l=d(n(48)),c=p(n(6)),f=p(n(3));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var h=[],y=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"_selectBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props;if(null!==e){switch(t.keyboard.keyName){case"CMD":case"CTRL":case"SHIFT":if(f.object.isArray(t.tree.body.activeBlock)){var n=Object.assign([],t.tree.body.activeBlock);return n.indexOf(e)>-1?n.splice(n.indexOf(e),1):n.push(e),void t.api.grid.select(n)}}t.api.grid.select([e])}else t.api.grid.select([])}},{key:"_updateBlocks",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],this.props);switch(e){case"start":h[0]=(new Date).getTime();break;case"end":if(h[1]=(new Date).getTime(),h[1]-h[0]>400){var o=function(){for(var e={},n=0;n<t.length;n++)e[t[n].i.split("__")[1]]=t[n];return e}(),i={};Object.keys(n.tree.body.grid).forEach(function(e){i[e]=r({},n.tree.body.grid[e],{layout:{x:o[e].x,y:o[e].y,w:o[e].w,h:o[e].h}})}),n.dispatch(c.body.updateBlocks(i))}h=[]}}},{key:"renderItem",value:function(e){var t=this,n=this.props,r=n.tree.body,o=r.activeBlock,a=r.grid[e],u=a.indexPrefix+"__"+e,l=!!(o&&o.length&&o.indexOf(e)>-1);return i.default.createElement("div",{key:u,"data-grid":a.layout,"data-key":e,onClick:function(n){n.stopPropagation(),t._selectBlock(e,!!a.image)},style:{backgroundColor:a.color||n.setting.body.blockColor},className:(0,s.default)({"ple-grid__item-active":l})},a.image&&i.default.createElement("figure",{style:{backgroundImage:"url('"+a.image.src+"')",backgroundPosition:a.image.position,backgroundSize:a.image.size}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.tree.body.setting,r=n.width*n.column+n.innerMargin*(n.column-1)+2*n.outerMargin;return i.default.createElement("div",{className:"ple-grid__wrap",onClick:function(){return e._selectBlock()}},i.default.createElement("div",{className:"ple-grid__body",style:{width:r+"px"}},i.default.createElement(u.default,{autoSize:!0,cols:n.column,rowHeight:n.height,width:r,margin:[n.innerMargin,n.innerMargin],containerPadding:[n.outerMargin,n.outerMargin],verticalCompact:!n.freeMode,onDragStart:function(){return e._updateBlocks("start")},onDragStop:function(t,n,r,o,i,a){return e._updateBlocks("end",t,a)},onResizeStart:function(){return e._updateBlocks("start")},onResizeStop:function(t,n,r,o,i,a){return e._updateBlocks("end",t,a)},style:{width:"100%",backgroundColor:n.bgColor},className:"ple-grid"},Object.keys(t.tree.body.grid).map(function(t){return e.renderItem(t)})),t.tree.cropper.visible?i.default.createElement(l.default,null):null))}}]),t}();y.displayName="GridLayout",y.defaultProps={tree:null,dispatch:null},t.default=(0,a.connect)(function(e){return Object.assign({},e,{})})(y)},function(e,t,n){e.exports=n(18).default,e.exports.utils=n(8),e.exports.Responsive=n(46).default,e.exports.Responsive.utils=n(21),e.exports.WidthProvider=n(47).default},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(0)),i=c(n(1)),a=n(19),u=n(43),s=n(8),l=c(n(2));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=f(this,e.call.apply(e,[this].concat(i))),r.state={resizing:null,dragging:null,className:""},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.calcColWidth=function(){var e=this.props,t=e.margin,n=e.containerPadding,r=e.containerWidth,o=e.cols;return(r-t[0]*(o-1)-2*n[0])/o},t.prototype.calcPosition=function(e,t,n,r,o){var i=this.props,a=i.margin,u=i.containerPadding,s=i.rowHeight,l=this.calcColWidth(),c={left:Math.round((l+a[0])*e+u[0]),top:Math.round((s+a[1])*t+u[1]),width:n===1/0?n:Math.round(l*n+Math.max(0,n-1)*a[0]),height:r===1/0?r:Math.round(s*r+Math.max(0,r-1)*a[1])};return o&&o.resizing&&(c.width=Math.round(o.resizing.width),c.height=Math.round(o.resizing.height)),o&&o.dragging&&(c.top=Math.round(o.dragging.top),c.left=Math.round(o.dragging.left)),c},t.prototype.calcXY=function(e,t){var n=this.props,r=n.margin,o=n.cols,i=n.rowHeight,a=n.w,u=n.h,s=n.maxRows,l=this.calcColWidth(),c=Math.round((t-r[0])/(l+r[0])),f=Math.round((e-r[1])/(i+r[1]));return{x:c=Math.max(Math.min(c,o-a),0),y:f=Math.max(Math.min(f,s-u),0)}},t.prototype.calcWH=function(e){var t=e.height,n=e.width,r=this.props,o=r.margin,i=r.maxRows,a=r.cols,u=r.rowHeight,s=r.x,l=r.y,c=this.calcColWidth(),f=Math.round((n+o[0])/(c+o[0])),p=Math.round((t+o[1])/(u+o[1]));return{w:f=Math.max(Math.min(f,a-s),0),h:p=Math.max(Math.min(p,i-l),0)}},t.prototype.createStyle=function(e){var t=this.props,n=t.usePercentages,r=t.containerWidth,o=void 0;return t.useCSSTransforms?o=(0,s.setTransform)(e):(o=(0,s.setTopLeft)(e),n&&(o.left=(0,s.perc)(e.left/r),o.width=(0,s.perc)(e.width/r))),o},t.prototype.mixinDraggable=function(e){return o.default.createElement(a.DraggableCore,{onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),onStop:this.onDragHandler("onDragStop"),handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:"")},e)},t.prototype.mixinResizable=function(e,t){var n=this.props,r=n.cols,i=n.x,a=n.minW,s=n.minH,l=n.maxW,c=n.maxH,f=this.calcPosition(0,0,r-i,0).width,p=this.calcPosition(0,0,a,s),d=this.calcPosition(0,0,l,c),h=[p.width,p.height],y=[Math.min(d.width,f),Math.min(d.height,1/0)];return o.default.createElement(u.Resizable,{width:t.width,height:t.height,minConstraints:h,maxConstraints:y,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},e)},t.prototype.onDragHandler=function(e){var t=this;return function(n,r){var o=r.node,i=r.deltaX,a=r.deltaY,u=t.props[e];if(u){var s={top:0,left:0};switch(e){case"onDragStart":var l=o.offsetParent;if(!l)return;var c=l.getBoundingClientRect(),f=o.getBoundingClientRect();s.left=f.left-c.left+l.scrollLeft,s.top=f.top-c.top+l.scrollTop,t.setState({dragging:s});break;case"onDrag":if(!t.state.dragging)throw new Error("onDrag called before onDragStart.");s.left=t.state.dragging.left+i,s.top=t.state.dragging.top+a,t.setState({dragging:s});break;case"onDragStop":if(!t.state.dragging)throw new Error("onDragEnd called before onDragStart.");s.left=t.state.dragging.left,s.top=t.state.dragging.top,t.setState({dragging:null});break;default:throw new Error("onDragHandler called with unrecognized handlerName: "+e)}var p=t.calcXY(s.top,s.left),d=p.x,h=p.y;return u.call(t,t.props.i,d,h,{e:n,node:o,newPosition:s})}}},t.prototype.onResizeHandler=function(e){var t=this;return function(n,r){var o=r.node,i=r.size,a=t.props[e];if(a){var u=t.props,s=u.cols,l=u.x,c=u.i,f=u.maxW,p=u.minW,d=u.maxH,h=u.minH,y=t.calcWH(i),g=y.w,v=y.h;g=Math.min(g,s-l),g=Math.max(g,1),g=Math.max(Math.min(g,f),p),v=Math.max(Math.min(v,d),h),t.setState({resizing:"onResizeStop"===e?null:i}),a.call(t,c,g,v,{e:n,node:o,size:i})}}},t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,i=e.w,a=e.h,u=e.isDraggable,s=e.isResizable,c=e.useCSSTransforms,f=this.calcPosition(t,n,i,a,this.state),p=o.default.Children.only(this.props.children),d=o.default.cloneElement(p,{className:(0,l.default)("react-grid-item",p.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":u,"react-draggable-dragging":Boolean(this.state.dragging),cssTransforms:c}),style:r({},this.props.style,p.props.style,this.createStyle(f))});return s&&(d=this.mixinResizable(d,f)),u&&(d=this.mixinDraggable(d)),d},t}(o.default.Component);p.propTypes={children:i.default.element,cols:i.default.number.isRequired,containerWidth:i.default.number.isRequired,rowHeight:i.default.number.isRequired,margin:i.default.array.isRequired,maxRows:i.default.number.isRequired,containerPadding:i.default.array.isRequired,x:i.default.number.isRequired,y:i.default.number.isRequired,w:i.default.number.isRequired,h:i.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:i.default.string.isRequired,onDragStop:i.default.func,onDragStart:i.default.func,onDrag:i.default.func,onResizeStop:i.default.func,onResizeStart:i.default.func,onResize:i.default.func,isDraggable:i.default.bool.isRequired,isResizable:i.default.bool.isRequired,static:i.default.bool,useCSSTransforms:i.default.bool.isRequired,className:i.default.string,handle:i.default.string,cancel:i.default.string},p.defaultProps={className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0},t.default=p},function(e,t,n){"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(20).default,e.exports.ResizableBox=n(45).default},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));e.exports=function(e,t){return t.style&&e.props.style&&(t.style=r({},e.props.style,t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),o.default.cloneElement(e,t)}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(0)),i=u(n(1)),a=u(n(20));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=s(this,e.call.apply(e,[this].concat(i))),r.state={width:r.props.width,height:r.props.height},r.onResize=function(e,t){var n=t.size;n.width,n.height;r.props.onResize?(e.persist&&e.persist(),r.setState(n,function(){return r.props.onResize&&r.props.onResize(e,t)})):r.setState(n)},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){e.width===this.props.width&&e.height===this.props.height||this.setState({width:e.width,height:e.height})},t.prototype.render=function(){var e=this.props,t=e.handleSize,n=(e.onResize,e.onResizeStart),i=e.onResizeStop,u=e.draggableOpts,s=e.minConstraints,l=e.maxConstraints,c=e.lockAspectRatio,f=e.axis,p=(e.width,e.height,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height"]));return o.default.createElement(a.default,{handleSize:t,width:this.state.width,height:this.state.height,onResizeStart:n,onResize:this.onResize,onResizeStop:i,draggableOpts:u,minConstraints:s,maxConstraints:l,lockAspectRatio:c,axis:f},o.default.createElement("div",r({style:{width:this.state.width+"px",height:this.state.height+"px"}},p)))},t}(o.default.Component);l.propTypes={height:i.default.number,width:i.default.number},l.defaultProps={handleSize:[20,20]},t.default=l},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(0)),i=c(n(1)),a=c(n(12)),u=n(8),s=n(21),l=c(n(18));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){return Object.prototype.toString.call(e)},d=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=o=f(this,e.call.apply(e,[this].concat(a))),o.state=o.generateInitialState(),o.onLayoutChange=function(e){var t;o.props.onLayoutChange(e,r({},o.props.layouts,((t={})[o.state.breakpoint]=e,t)))},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.generateInitialState=function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,o=e.cols,i=(0,s.getBreakpointFromWidth)(n,t),a=(0,s.getColsFromBreakpoint)(i,o),u=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,s.findOrGenerateResponsiveLayout)(r,n,i,i,a,u),breakpoint:i,cols:a}},t.prototype.componentWillReceiveProps=function(e){if(e.width==this.props.width&&e.breakpoint===this.props.breakpoint&&(0,a.default)(e.breakpoints,this.props.breakpoints)&&(0,a.default)(e.cols,this.props.cols)){if(!(0,a.default)(e.layouts,this.props.layouts)){var t=this.state,n=t.breakpoint,r=t.cols,o=(0,s.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType);this.setState({layout:o})}}else this.onWidthChange(e)},t.prototype.onWidthChange=function(e){var t=e.breakpoints,n=e.cols,r=e.layouts,o=e.compactType,i=e.breakpoint||(0,s.getBreakpointFromWidth)(e.breakpoints,e.width),a=this.state.breakpoint;if(a!==i||this.props.breakpoints!==t||this.props.cols!==n){a in r||(r[a]=(0,u.cloneLayout)(this.state.layout));var l=(0,s.getColsFromBreakpoint)(i,n),c=(0,s.findOrGenerateResponsiveLayout)(r,t,i,a,l,o);c=(0,u.synchronizeLayoutWithChildren)(c,e.children,l,o),r[i]=c,this.props.onLayoutChange(c,r),this.props.onBreakpointChange(i,l),this.props.onWidthChange(e.width,e.margin,l,e.containerPadding),this.setState({breakpoint:i,layout:c,cols:l})}},t.prototype.render=function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["breakpoint","breakpoints","cols","layouts","onBreakpointChange","onLayoutChange","onWidthChange"]));return o.default.createElement(l.default,r({},t,{onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))},t}(o.default.Component);d.propTypes={breakpoint:i.default.string,breakpoints:i.default.object,cols:i.default.object,layouts:function(e,t){if("[object Object]"!==p(e[t]))throw new Error("Layout property must be an object. Received: "+p(e[t]));Object.keys(e[t]).forEach(function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,u.validateLayout)(e.layouts[t],"layouts."+t)})},width:i.default.number.isRequired,onBreakpointChange:i.default.func,onLayoutChange:i.default.func,onWidthChange:i.default.func},d.defaultProps={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},onBreakpointChange:u.noop,onLayoutChange:u.noop,onWidthChange:u.noop},t.default=d},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t,n;return n=t=function(t){function n(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=s(this,t.call.apply(t,[this].concat(i))),e=r,r.state={width:1280},r.mounted=!1,r.onWindowResize=function(){if(r.mounted){var e=a.default.findDOMNode(r);e instanceof HTMLElement&&r.setState({width:e.offsetWidth})}},s(r,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.componentDidMount=function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},n.prototype.componentWillUnmount=function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)},n.prototype.render=function(){var t=this.props,n=t.measureBeforeMount,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["measureBeforeMount"]);return n&&!this.mounted?o.default.createElement("div",{className:this.props.className,style:this.props.style}):o.default.createElement(e,r({},i,this.state))},n}(o.default.Component),t.defaultProps={measureBeforeMount:!1},t.propTypes={measureBeforeMount:i.default.bool},n};var o=u(n(0)),i=u(n(1)),a=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),i=n(7),a=c(n(5)),u=c(n(2)),s=c(n(49)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.tree.cropper;return n.imageMeta=null,n._block=null,n.$item=(0,a.default)(e.element).find(".react-grid-item").filter("[data-key="+r.key+"]"),n.state={pending:!0,position:r.item.image.position,size:r.item.image.size||"cover",width:n.$item.width(),height:n.$item.height(),top:n.$item.position().top,left:n.$item.position().left},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.tree.cropper;l.util.getImageSize(t.item.image.src).then(function(t){e.imageMeta=t,e.setState({pending:!1})})}},{key:"_onClose",value:function(){var e=this.props;e.api.cropper.close(e.tree.cropper.key,this._block.state.position,this._block.state.size)}},{key:"_toggleImageType",value:function(){var e=this.state;this.props;if("cover"===e.size){var t="",n=0;e.height>e.width?(n=l.number.getRatioForResize(e.height,this.imageMeta.height),t=parseInt(this.imageMeta.width*n)+"px "+e.height+"px"):(n=l.number.getRatioForResize(e.width,this.imageMeta.width),t=e.width+"px "+parseInt(this.imageMeta.height*n)+"px"),this.setState({position:"0 0",size:t})}else this.setState({position:"50% 50%",size:"cover"})}},{key:"render",value:function(){var e=this,t=this.state,n=this.props;return t.pending?null:o.default.createElement("div",{className:"ple-cropper"},o.default.createElement("span",{className:"ple-cropper__bg"}),o.default.createElement("div",{style:{width:t.width+"px",height:t.height+"px",top:t.top+"px",left:t.left+"px"},className:"ple-cropper__wrap"},o.default.createElement(s.default,{ref:function(t){e._block=t},src:n.tree.cropper.item.image.src,position:t.position,size:t.size,bgColor:n.tree.cropper.item.color||n.setting.body.blockColor}),o.default.createElement("nav",{className:"ple-cropper__nav"},o.default.createElement("button",{type:"button",onClick:function(){return e._onClose()}},o.default.createElement("i",{className:"ple-sp-ico ple-ico-close ple-abs"},"Close cropper")),o.default.createElement("button",{type:"button",onClick:function(){return e._toggleImageType()},className:(0,u.default)({"ple-cropper__nav-active":"cover"!==t.size})},o.default.createElement("i",{className:"ple-sp-ico ple-ico-resize ple-abs"},"Toggle background size type")))))}}]),t}();f.displayName="Cropper",t.default=(0,i.connect)(function(e){return Object.assign({},e,{})})(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(0)),i=l(n(9)),a=l(n(5)),u=l(n(2)),s=n(3);function l(e){return e&&e.__esModule?e:{default:e}}s.util.isTouchDevice();var c=s.util.isTouchDevice()?"touchmove":"mousemove",f=s.util.isTouchDevice()?"touchend":"mouseup",p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={position:e.position,size:e.size,isCover:"cover"===e.size},n._self=null,n.$self=null,n.$img=null,n.moveStartInfo={},n.resizeStartInfo={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){this.$self=(0,a.default)(i.default.findDOMNode(this._self))}},{key:"componentWillReceiveProps",value:function(e){this.props.size!==e.size&&this.setState({position:e.position,size:e.size,isCover:"cover"===e.size})}},{key:"_moveStart",value:function(e){var t=this;e.stopPropagation();var n=this.state;this.$img=this.$self.find("img"),this.moveStartInfo={containerX:parseInt(n.position.split(" ")[0]),containerY:parseInt(n.position.split(" ")[1]),mouseX:(e.clientX||e.pageX||e.nativeEvent.touches[0].clientX)+(0,a.default)(window).scrollLeft(),mouseY:(e.clientY||e.pageY||e.nativeEvent.touches[0].clientY)+(0,a.default)(window).scrollTop()},(0,a.default)(document).on(c+".move",function(e){return t._moveIng(e)}).on(f+".move",function(e){return t._moveEnd(e)})}},{key:"_moveIng",value:function(e){e.stopPropagation();var t="touchmove"===e.type?e.originalEvent.touches[0]:e,n={},r={};n.x=(t.clientX||t.pageX)+(0,a.default)(window).scrollLeft(),n.y=(t.clientY||t.pageY)+(0,a.default)(window).scrollTop(),r.x=this.moveStartInfo.containerX+(n.x-this.moveStartInfo.mouseX),r.y=this.moveStartInfo.containerY+(n.y-this.moveStartInfo.mouseY),this.setState({position:parseInt(r.x)+"px "+parseInt(r.y)+"px"})}},{key:"_moveEnd",value:function(e){e.preventDefault(),this.$img=null,this.moveStartInfo=null,(0,a.default)(document).off(c+".move").off(f+".move")}},{key:"_resizeStart",value:function(e){var t=this;e.stopPropagation();var n=this.state;this.$img=this.$self.find("img"),this.resizeStartInfo={title:e.currentTarget.title,width:this.$img.width(),height:this.$img.height(),mouseX:(e.clientX||e.pageX||e.nativeEvent.touches[0].clientX)+(0,a.default)(window).scrollLeft(),posX:parseInt(n.position.split(" ")[0]),posY:parseInt(n.position.split(" ")[1])},(0,a.default)(document).on(c+".resize",function(e){return t._resizeIng(e)}).on(f+".resize",function(e){return t._resizeEnd(e)})}},{key:"_resizeIng",value:function(e){e.stopPropagation();var t={},n={},r=1,o=0,i="touchmove"===e.type?e.originalEvent.touches[0]:e,u=(i.clientX||i.pageX)+(0,a.default)(window).scrollLeft()-this.resizeStartInfo.mouseX;switch(this.resizeStartInfo.title){case"resize-lt":n.x=this.resizeStartInfo.posX+u,t.width=this.resizeStartInfo.width-u,r=t.width/this.$img.get(0).naturalWidth,t.height=parseInt(this.$img.get(0).naturalHeight*r),o=this.resizeStartInfo.height-t.height,n.y=this.resizeStartInfo.posY+o;break;case"resize-rt":n.x=this.resizeStartInfo.posX,t.width=this.resizeStartInfo.width+u,r=t.width/this.$img.get(0).naturalWidth,t.height=parseInt(this.$img.get(0).naturalHeight*r),o=this.resizeStartInfo.height-t.height,n.y=this.resizeStartInfo.posY+o;break;case"resize-lb":n.x=this.resizeStartInfo.posX+u,n.y=this.resizeStartInfo.posY,t.width=this.resizeStartInfo.width-u,r=t.width/this.$img.get(0).naturalWidth,t.height=parseInt(this.$img.get(0).naturalHeight*r);break;case"resize-rb":n.x=this.resizeStartInfo.posX,n.y=this.resizeStartInfo.posY,t.width=this.resizeStartInfo.width+u,r=t.width/this.$img.get(0).naturalWidth,t.height=parseInt(this.$img.get(0).naturalHeight*r);break;default:return}this.setState({size:parseInt(t.width)+"px "+parseInt(t.height)+"px",position:parseInt(n.x)+"px "+parseInt(n.y)+"px"})}},{key:"_resizeEnd",value:function(e){this.$img=null,this.resizeStartInfo=null,(0,a.default)(document).off(c+".resize").off(f+".resize")}},{key:"render",value:function(){var e=this,t=this.state,n=this.props,r="cover"!==t.size?t.size.split(" "):t.size,i=t.position.split(" ");return o.default.createElement("figure",{ref:function(t){e._self=t},style:{backgroundColor:n.bgColor},className:"ple-cropperBlock ple-cropper__block"},t.isCover?o.default.createElement("span",{style:{backgroundImage:"url('"+n.src+"')"},className:"ple-cropperBlock__image ple-cropperBlock__image-cover"}):o.default.createElement("span",{className:(0,u.default)("ple-cropperBlock__image",{"ple-cropperBlock__image-resize":"cover"!==n.size})},o.default.createElement("img",{src:n.src,style:Object.assign({},"cover"!==t.size&&{width:r[0],transform:"translate("+i[0]+", "+i[1]+")"}),alt:"image"})),o.default.createElement("div",{onMouseDown:function(t){return e._moveStart(t)},onTouchStart:function(t){return e._moveStart(t)},style:Object.assign({},"cover"!==t.size&&{width:r[0],height:r[1],transform:"translate("+i[0]+", "+i[1]+")"}),className:(0,u.default)("ple-cropperBlock__control",{"ple-cropperBlock__control-active":"cover"!==n.size})},o.default.createElement("button",{type:"button",title:"resize-lt",onMouseDown:function(t){return e._resizeStart(t)},onTouchStart:function(t){return e._resizeStart(t)},className:"ple-cropperBlock__resize ple-cropperBlock__resize-lt"},o.default.createElement("i",{className:"ple-sp-ico ple-abs ple-ico-clamp"})),o.default.createElement("button",{type:"button",title:"resize-rt",onMouseDown:function(t){return e._resizeStart(t)},onTouchStart:function(t){return e._resizeStart(t)},className:"ple-cropperBlock__resize ple-cropperBlock__resize-rt"},o.default.createElement("i",{className:"ple-sp-ico ple-abs ple-ico-clamp"})),o.default.createElement("button",{type:"button",title:"resize-lb",onMouseDown:function(t){return e._resizeStart(t)},onTouchStart:function(t){return e._resizeStart(t)},className:"ple-cropperBlock__resize ple-cropperBlock__resize-lb"},o.default.createElement("i",{className:"ple-sp-ico ple-abs ple-ico-clamp"})),o.default.createElement("button",{type:"button",title:"resize-rb",onMouseDown:function(t){return e._resizeStart(t)},onTouchStart:function(t){return e._resizeStart(t)},className:"ple-cropperBlock__resize ple-cropperBlock__resize-rb"},o.default.createElement("i",{className:"ple-sp-ico ple-abs ple-ico-clamp"}))))}}]),t}();p.displayName="Block",p.defaultProps={src:"",position:"",size:"",bgColor:"#fff"},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTouchDevice=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},t.sleep=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pleTimer";return new Promise(function(n){window[t]=setTimeout(n,e)})},t.getImageSize=function(e){return new Promise(function(t,n){e&&"string"==typeof e||n();var r=document.createElement("img");r.onload=function(){t({width:r.naturalWidth,height:r.naturalHeight,ratio:r.naturalHeight/r.naturalWidth})},r.onerror=function(){n()},r.src=e})},t.checkSupportCss=function(e,t){if(CSS&&CSS.supports)return CSS.supports(e,t)},t.loadImage=function(e){return new Promise(function(t){if(e){var n=new Image;r(e)?function(e){window.document.body.appendChild(n),n.onload=function(e){window.document.body.removeChild(n),t(n)},n.onError=function(e){t(null)},n.setAttribute("crossOrigin","anonymous"),n.style.display="none",n.src=e}(e):function(e){var r=new XMLHttpRequest;r.open("get",e,!0),r.responseType="blob",r.onload=function(){if(200==this.status){var e=new FileReader;e.readAsDataURL(this.response),e.onload=function(e){n.src=e.target.result,t(n)}}},r.send()}(e)}else t(null)})};t.cssPrefix=function(){var e=window.getComputedStyle(document.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return{dom:"WebKit|Moz|MS|O".match(new RegExp("("+t+")","i"))[1],lowercase:t,css:"-"+t+"-",js:t[0].toUpperCase()+t.substr(1)}}();var r=function(e){return/^data:image\/(?:.*);base64,.*/.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomRange=function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?Math.random()*(t-e)+e:Math.floor(Math.random()*(t-e+1))+e},t.getRatioForResize=function(e,t){return t>e?e/t:t/e},t.getTimeStamp=function(){return Math.round(+new Date/1e3)},t.getRatio=function(e,t){var n=parseInt(e)/parseInt(t);return n=Math.round(1e3*n)/1e3}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rgbToHex=function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var n=o.default.Deferred(),i=e.length,a=0;return function u(){a>=i?n.resolve():t?function(e,t){var n=o.default.Deferred(),i=new XMLHttpRequest;if("function"!=typeof FormData&&"object"!==("undefined"==typeof FormData?"undefined":r(FormData)))return n.reject("not support browser",t),null;var a=new FormData;return a.append("files[]",t),i.open("post",e,!0),i.addEventListener("load",function(e){try{var t=JSON.parse(e.target.responseText);if("success"!==t.state)throw"server error";n.resolve(t.data)}catch(e){n.reject(e)}}),i.upload.addEventListener("progress",function(e){var t=e.loaded,r=e.total;n.notify("progress",t,r)}),i.send(a),n.notify("start"),n.promise()}(t,e[a]).done(function(e){n.notify("done",{count:a,data:e}),a++,u()}).progress(function(e,t,r){n.notify(e,"progress"===e&&{loaded:t,total:r})}).fail(function(e){n.reject(e)}):function(e){var t=o.default.Deferred(),n=new FileReader;return n.addEventListener("load",function(n){t.resolve({name:e.name,type:e.type,size:e.size,url:n.target.result})}),n.addEventListener("error",function(e){t.reject(e.target)}),n.readAsDataURL(e),t.promise()}(e[a]).done(function(e){n.notify("done",{count:a,data:e}),a++,u()}).fail(function(){})}(),n.promise()};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(5))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.default.Deferred(),u=function(e,t){if(!e||!t)return null;var n=[];return(0,r.default)(e).children().each(function(e,o){var i=(0,r.default)(o),a=t[i.data("key")],u=a.image;u&&(u={src:u.src,position:u.position.split(" "),size:"cover"===u.size?null:u.size.split(" ")}),n.push({x:i.position().left,y:i.position().top,width:i.width(),height:i.height(),image:u||null,color:a.color||"rgba(255,255,255,1)"})}),n}(e,t.grid),s=0,l=u.length,c=new o.Canvas(e.offsetWidth,e.offsetHeight,t.setting.bgColor);function f(e){return new Promise(function(t,r){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n){o.util.loadImage(e.image?e.image.src:null).then(function(r){if(r){var a={width:r.naturalWidth,height:r.naturalHeight},u={},s={};e.image.size?(u=i("width",parseInt(e.image.size[0]),0,a.width,a.height),s.x=parseInt(e.image.position[0]),s.y=parseInt(e.image.position[1])):(u=i("cover",e.width,e.height,a.width,a.height),s.x=.5*e.width-.5*u.width,s.y=.5*e.height-.5*u.height),o.resamplingImage({image:r,reSampleCount:t.sampling,width:e.width,height:e.height,cx:0,cy:0,cw:a.width,ch:a.height,dx:s.x,dy:s.y,dw:u.width,dh:u.height,bgColor:e.color}).then(function(t){n({width:e.width,height:e.height,x:e.x,y:e.y,image:t})})}else n({width:e.width,height:e.height,x:e.x,y:e.y,color:e.color,image:new o.Canvas(e.width,e.height,e.color)})})})})(e,n).then(function(e){(function(e,t){return new Promise(function(n){e.ctx.drawImage(t.image.el,t.x,t.y,t.width,t.height),n(t.image.el)})})(c,e).then(t,r)},r)})}function p(e){a.reject(e)}function d(){switch(n.output){case"base64":a.resolve(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.75;switch(t){case"png":t="image/png";break;case"jpg":default:t="image/jpeg"}return e.toDataURL(t,"image/jpeg"===t?n:void 0)}(c.el,n.format,n.quality));break;case"canvas":default:a.resolve(c.el)}}a.notify(l,s++,null),u.length?f(u[0]).then(function e(t){u.splice(0,1);a.notify(l,s++,t);u.length?f(u[0]).then(e,p):d()},p):p("not found queue");return a.promise()};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(5)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3));function i(e,t,n,r,o){var i={width:0,height:0};switch(e){case"cover":t>n?(i.width=t,i.height=o*(t/r),n>i.height&&(i.width=r*(n/o),i.height=n)):(i.width=r*(n/o),i.height=n,t>i.width&&(i.width=t,i.height=o*(t/r)));break;case"width":i.width=t,i.height=o*(t/r);break;case"height":i.width=r*(n/o),i.height=n;break;default:i.width=t,i.height=n}return{width:Math.round(i.width),height:Math.round(i.height)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:150,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#ffffff";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=document.createElement("canvas"),this.el.style.display="none",this.ctx=this.el.getContext("2d"),this.el.width=t,this.el.height=n,this.ctx.fillStyle=r,this.ctx.fillRect(0,0,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e=Object.assign({},o,e),new Promise(function(t,n){e.image||n("not found image"),e.reSampleCount=Math.min(4,e.reSampleCount),e.reSampleCount=Math.max(0,e.reSampleCount);var o=Math.pow(2,e.reSampleCount),i=new r.Canvas(e.width*o,e.height*o,e.bgColor);i.ctx.drawImage(e.image,e.cx,e.cy,e.cw,e.ch,e.dx*o,e.dy*o,e.dw*o,e.dh*o),e.reSampleCount>0?function(e,t,n){return new Promise(function(o){!function t(n,i){var a=Math.pow(2,n),u=new r.Canvas(e.width*a,e.height*a,e.bgColor);u.ctx.drawImage(i.el,0,0,.5*i.el.width,.5*i.el.height),n>0?t(n-1,u):o(u)}(t-1,n)})}(e,e.reSampleCount,i).then(t):t(i)})};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3));var o={image:null,width:100,height:100,reSampleCount:1,bgColor:"rgba(255,255,255,1)",cw:0,ch:0,cx:0,cy:0,dw:0,dh:0,dx:0,dy:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=g(n(0)),u=g(n(2)),s=n(7),l=g(n(5)),c=g(n(23)),f=y(n(6)),p=y(n(3)),d=g(n(72)),h=g(n(73));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={active:{setting:!1,editBlockColor:!1},visible:{setting:!0,shuffle:!1,add:!0,select:!0,edit:!1,removeImage:!1,duplicate:!1,removeBlock:!1,editColor:!1}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state,n=this.props,r=Object.assign({},t),o=!1;if(n.tree.body.activeBlock.length!==e.tree.body.activeBlock.length){var i=!!e.tree.body.activeBlock.length;r.visible=Object.assign({},r.visible,{edit:!1,removeImage:!1,duplicate:i,removeBlock:i,editColor:i}),o=!0}if(e.tree.body.activeBlock[0]){var a=!1;e.tree.body.activeBlock.some(function(t){if(e.tree.body.grid[t].image)return a=!0,!0});var u=e.tree.body.grid[e.tree.body.activeBlock[0]];r.visible=Object.assign({},r.visible,{removeImage:a,edit:!(!u||!u.image)}),o=!0}o&&this.setState(r)}},{key:"changeActive",value:function(e,t,n){var r=this,i=this.state,a=t||!i.active[e],u=n?n.currentTarget:null;a?(0,l.default)(document).on("click.pleToolbar",function(t){(0,l.default)(t.target).closest(".ple-toolbar__pop").length||t.target!==u&&t.target.parentNode!==u&&r.changeActive(e,!1)}):(0,l.default)(document).off("click.pleToolbar"),this.setState({active:o({},i.active,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({setting:!1,editColor:!1},e,a))})}},{key:"deactivate",value:function(){var e=this;return(0,l.default)(document).off("click.pleToolbar"),new Promise(function(t){e.setState({active:{setting:!1,editColor:!1}},t)})}},{key:"submitEditSetting",value:function(e){var t=this;return this.props.dispatch(f.body.updateSetting(e)),p.util.sleep(50).then(function(){return t.changeActive("setting",!1)}),!1}},{key:"render",value:function(){var e=this,t=this.state,n=this.props,o="#fff";if("object"===r(n.tree.body.grid)&&p.object.isArray(n.tree.body.activeBlock)){var i=n.tree.body.activeBlock[0];o=n.tree.body.grid[i]&&n.tree.body.grid[i].color?n.tree.body.grid[i].color:n.setting.body.blockColor}return a.default.createElement("nav",{className:"ple-toolbar"},a.default.createElement("div",{className:"ple-toolbar__wrap"},t.visible.setting&&a.default.createElement(d.default,{iconClass:"ple-ico-setting",className:(0,u.default)("ple-edit-setting",{"ple-toolbar__block-active":t.active.setting}),onClick:function(n){n.persist(),t.active.setting||e.deactivate().then(function(){e.changeActive("setting",null,n)})},title:"è®¾ç½®ç»å¸"},a.default.createElement(h.default,{submit:function(t){return e.submitEditSetting(t)},setting:n.tree.body.setting,defaultSetting:n.setting.body.setting})),t.visible.shuffle&&a.default.createElement(d.default,{iconClass:"ple-ico-arrow-random",onClick:function(){return n.api.grid.shuffle()},title:"éæºæç"}),t.visible.add&&a.default.createElement(d.default,{iconClass:"ple-ico-plus",onClick:function(){return n.api.grid.add()},title:"æ·»å åºå"}),t.visible.select&&a.default.createElement(d.default,{iconClass:"ple-ico-select",onClick:function(){return n.api.grid.toggleSelectAll()},title:"å¨é/åæ¶éæ©"}),t.visible.edit&&a.default.createElement(d.default,{iconClass:"ple-ico-pencil",className:"ple-toolbar__block-key",onClick:function(){return n.api.cropper.open(n.tree.body.activeBlock[0])},title:"ç¼è¾å¾ç"}),t.visible.removeImage&&a.default.createElement(d.default,{iconClass:"ple-ico-empty",className:"ple-toolbar__block-key",onClick:function(){return n.api.grid.removeImages(n.tree.body.activeBlock)},title:"æ¸é¤åºåä¸­çå¾ç"}),t.visible.duplicate&&a.default.createElement(d.default,{iconClass:"ple-ico-duplicate",className:"ple-toolbar__block-key",onClick:function(){null!==n.tree.body.activeBlock?n.dispatch(f.body.duplicateBlock(n.tree.body.activeBlock)):alert("Not found select block")},title:"å¤å¶åºå"}),t.visible.removeBlock&&a.default.createElement(d.default,{iconClass:"ple-ico-trash",className:"ple-toolbar__block-key",onClick:function(){null!==n.tree.body.activeBlock?n.api.grid.remove(n.tree.body.activeBlock):alert("Not found select block")},title:"å é¤åºå"}),t.visible.editColor&&a.default.createElement(d.default,{iconClass:"ple-ico-palette",className:(0,u.default)("ple-edit-color","ple-toolbar__block-key",{"ple-toolbar__block-active":t.active.editColor}),onClick:function(n){n.persist(),t.active.editColor||e.deactivate().then(function(){return e.changeActive("editColor",null,n)})},title:"åºåèæ¯è²"},a.default.createElement("div",{className:"ple-colorPicker__wrap"},a.default.createElement(c.default,{onChange:function(e){e&&n.dispatch(f.body.changeColorBlock(n.tree.body.activeBlock,e))},color:o,className:"ple-colorPicker__body"})))))}}]),t}();v.displayName="Toolbar",v.defaultProps={dispatch:null,tree:null},t.default=(0,s.connect)(function(e){return Object.assign({},e,{})})(v)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(0)),i=l(n(9)),a=l(n(1)),u=l(n(2)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(13));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._self=null,n.rect=null,n.onHandleUpdate=n._onUpdate.bind(n),n.onStopUpdates=n._onStopUpdates.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"getPosition",value:function(e){return e.touches&&(e=e.touches[0]),{x:e.clientX,y:e.clientY}}},{key:"getPercentageValue",value:function(e){return e/this.props.max*100+"%"}},{key:"updatePosition",value:function(e,t){this.props.onChange(this.getScaledValue((t-e.left)/e.width))}},{key:"getScaledValue",value:function(e){return s.util.clamp(e,0,1)*this.props.max}},{key:"getBoundingRect",value:function(){return i.default.findDOMNode(this._self).getBoundingClientRect()}},{key:"_onStartUpdates",value:function(e){e.preventDefault();var t=this.getPosition(e).x;this._rect=this.getBoundingRect(),document.addEventListener("mousemove",this.onHandleUpdate),document.addEventListener("touchmove",this.onHandleUpdate),document.addEventListener("mouseup",this.onStopUpdates),document.addEventListener("touchend",this.onStopUpdates),this.setState({active:!0}),this.updatePosition(this._rect,t)}},{key:"_onStopUpdates",value:function(){document.removeEventListener("mousemove",this.onHandleUpdate),document.removeEventListener("touchmove",this.onHandleUpdate),document.removeEventListener("mouseup",this.onStopUpdates),document.removeEventListener("touchend",this.onStopUpdates),this.setState({active:!1})}},{key:"_onUpdate",value:function(e){e.preventDefault();var t=this.getPosition(e).x;this.updatePosition(this._rect,t)}},{key:"render",value:function(){var e=this,t=this.props;return o.default.createElement("div",{ref:function(t){e._self=t},className:(0,u.default)("cpSlider",t.className),onMouseDown:this._onStartUpdates.bind(this),onTouchStart:this._onStartUpdates.bind(this)},o.default.createElement("div",{className:"cpSlider__track"},o.default.createElement("span",{style:{background:t.background}})),o.default.createElement("div",{className:"cpSlider__pointer",style:{left:this.getPercentageValue(this.props.value)}}))}}]),t}();c.propTypes={value:a.default.number.isRequired,background:a.default.string},c.defaultProps={value:0,background:"",className:null},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseToHsv=function(e){e=(0,r.default)(e);var t=(0,o.default)(e),n=4===e.length?e[3]:1;return t.push(n),t},t.toRgbString=l,t.equals=function(e,t){return l(e)===l(t)},t.isDark=function(e){return(0,u.default)((0,i.default)(e))<=128};var r=s(n(60)),o=s(n(65)),i=s(n(66)),a=s(n(67)),u=s(n(68));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=(0,i.default)(e);return 4===e.length&&t.push(e[3]),(0,a.default)(t)}},function(e,t,n){var r=n(61),o=n(62),i=n(63),a=n(64);var u={"#":o,hsl:function(e){var t=r(e),n=a(t);return 4===t.length&&n.push(t[3]),n},rgb:i};function s(e){for(var t in u)if(0===e.indexOf(t))return u[t](e)}s.rgb=i,s.hsl=r,s.hex=o,e.exports=s},function(e,t,n){var r=n(24),o=n(25);function i(e,t){switch(e=parseFloat(e),t){case 0:return o(e,0,360);case 1:case 2:return o(e,0,100);case 3:return o(e,0,1)}}e.exports=function(e){return r(e).map(i)}},function(e,t){e.exports=function(e){4!==e.length&&5!==e.length||(e=function(e){for(var t="#",n=1;n<e.length;n++){var r=e.charAt(n);t+=r+r}return t}(e));var t=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(9===e.length){var n=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));t.push(n)}return t}},function(e,t,n){var r=n(24),o=n(25);function i(e,t){return t<3?-1!=e.indexOf("%")?Math.round(255*o(parseInt(e,10),0,100)/100):o(parseInt(e,10),0,255):o(parseFloat(e),0,1)}e.exports=function(e){return r(e).map(i)}},function(e,t){e.exports=function(e){var t,n,r,o,i,a=e[0]/360,u=e[1]/100,s=e[2]/100;if(0==u)return[i=255*s,i,i];t=2*s-(n=s<.5?s*(1+u):s+u-s*u),o=[0,0,0];for(var l=0;l<3;l++)(r=a+1/3*-(l-1))<0&&r++,r>1&&r--,i=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,o[l]=255*i;return o}},function(e,t){e.exports=function(e){var t,n,r=e[0],o=e[1],i=e[2],a=Math.min(r,o,i),u=Math.max(r,o,i),s=u-a;return n=0==u?0:s/u*1e3/10,u==a?t=0:r==u?t=(o-i)/s:o==u?t=2+(i-r)/s:i==u&&(t=4+(r-o)/s),(t=Math.min(60*t,360))<0&&(t+=360),[t,n,u/255*1e3/10]}},function(e,t){e.exports=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,o=Math.floor(t)%6,i=t-Math.floor(t),a=255*r*(1-n),u=255*r*(1-n*i),s=255*r*(1-n*(1-i));switch(r*=255,o){case 0:return[r,s,a];case 1:return[u,r,a];case 2:return[a,r,s];case 3:return[a,u,r];case 4:return[s,a,r];case 5:return[r,a,u]}}},function(e,t){e.exports=function(e){var t="rgb";return 4===e.length&&(t+="a"),e[0]=Math.round(e[0]),e[1]=Math.round(e[1]),e[2]=Math.round(e[2]),t+"("+e.join(",")+")"}},function(e,t){e.exports=function(e){return(299*e[0]+587*e[1]+114*e[2])/1e3}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=function(e,t,n){return Math.min(Math.max(e,t),n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(0)),i=l(n(9)),a=l(n(1)),u=l(n(2)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(13));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={active:!1},n._self=null,n._rect=null,n.onHandleUpdate=n._onUpdate.bind(n),n.onStopUpdates=n._onStopUpdates.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"updatePosition",value:function(e,t,n){var r=(t-e.left)/e.width,o=(e.bottom-n)/e.height;this.props.onChange(this.getScaledValue(r),this.getScaledValue(o))}},{key:"getScaledValue",value:function(e){return s.util.clamp(e,0,1)*this.props.max}},{key:"getPercentageValue",value:function(e){return e/this.props.max*100+"%"}},{key:"getPosition",value:function(e){return e.touches&&(e=e.touches[0]),{x:e.clientX,y:e.clientY}}},{key:"getBoundingRect",value:function(){return i.default.findDOMNode(this._self).getBoundingClientRect()}},{key:"_onStartUpdates",value:function(e){e.preventDefault();var t=this.getPosition(e),n=t.x,r=t.y;this._rect=this.getBoundingRect(),document.addEventListener("mousemove",this.onHandleUpdate),document.addEventListener("touchmove",this.onHandleUpdate),document.addEventListener("mouseup",this.onStopUpdates),document.addEventListener("touchend",this.onStopUpdates),this.setState({active:!0}),this.updatePosition(this._rect,n,r)}},{key:"_onStopUpdates",value:function(){document.removeEventListener("mousemove",this.onHandleUpdate),document.removeEventListener("touchmove",this.onHandleUpdate),document.removeEventListener("mouseup",this.onStopUpdates),document.removeEventListener("touchend",this.onStopUpdates),this.setState({active:!1})}},{key:"_onUpdate",value:function(e){e.preventDefault();var t=this.getPosition(e),n=t.x,r=t.y;this.updatePosition(this._rect,n,r)}},{key:"render",value:function(){var e=this,t=this.state,n=this.props;return o.default.createElement("div",{ref:function(t){e._self=t},onMouseDown:this._onStartUpdates.bind(this),onTouchStart:this._onStartUpdates.bind(this),className:(0,u.default)("cpMap",n.className,{"cpMap-active":t.active})},o.default.createElement("div",{className:"cpMap__background",style:{backgroundColor:n.backgroundColor}}),o.default.createElement("div",{className:"cpMap__pointer",style:{left:this.getPercentageValue(this.props.x),bottom:this.getPercentageValue(this.props.y)}}))}}]),t}();c.propTypes={x:a.default.number.isRequired,y:a.default.number.isRequired,backgroundColor:a.default.string,className:a.default.string},c.defaultProps={x:0,y:0,backgroundColor:"transparent",className:null},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(0)),i=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"shouldComponentUpdate",value:function(e,t){return!1}},{key:"renderItem",value:function(e,t){var n=this;return o.default.createElement("li",{key:t},o.default.createElement("div",null,o.default.createElement("button",{type:"button",onClick:function(t){return n._onClickItem(e)},style:{backgroundColor:e}},e)))}},{key:"_onClickItem",value:function(e){var t=this.props;t.onSelectColor&&t.onSelectColor(e)}},{key:"render",value:function(){var e=this.props;return o.default.createElement("nav",{className:(0,i.default)("cpPalette",e.className)},o.default.createElement("ul",null,e.colors.map(this.renderItem.bind(this))))}}]),t}();u.defaultProps={colors:[],onSelectColor:function(e){},className:null},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(0)),i=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=this.props;return o.default.createElement("div",{className:(0,i.default)("ple-toolbar__block",e.className)},o.default.createElement("button",{type:"button",title:e.title,onClick:e.onClick},o.default.createElement("i",{className:(0,i.default)("ple-sp-ico","ple-abs",e.iconClass)},e.title)),!!e.children&&o.default.createElement("div",{className:"ple-toolbar__pop"},e.children))}}]),t}();u.displayName="Button",t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),a=l(n(5)),u=l(n(23)),s=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=r({},e.defaultSetting,e.setting,{popup_bgColor:!1}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentWillReceiveProps",value:function(){var e=this.props;this.setState(r({},e.defaultSetting,e.setting))}},{key:"activeBgColorPopup",value:function(e,t){var n=this,r=this.state,o=t?t.currentTarget:null;(e=e||!r.popup_bgColor)?(0,a.default)(document).on("click.pleEditBgColor",function(e){(0,a.default)(e.target).closest(".ple-edit-bgColor__popup").length||e.target!==o&&e.target.parentNode!==o&&n.activeBgColorPopup(!1)}):(0,a.default)(document).off("click.pleEditBgColor"),this.setState({popup_bgColor:e})}},{key:"_submit",value:function(e){e.preventDefault(),this.props.submit(this.state)}},{key:"_reset",value:function(){this.setState(r({},this.props.defaultSetting))}},{key:"_change",value:function(e){var t=e.target.value||"";switch(e.target.type){case"text":this.setState(c({},e.target.name,t));break;case"number":t=t||0,this.setState(c({},e.target.name,parseInt(t)))}}},{key:"_openBgColorPicker",value:function(e){e.persist(),this.activeBgColorPopup(null,e)}},{key:"render",value:function(){var e=this,t=this.state;this.props;return i.default.createElement("form",{onSubmit:function(t){return e._submit(t)},className:"ple-edit-setting"},i.default.createElement("fieldset",{className:"ple-edit-setting__form"},i.default.createElement("legend",null,"Settings form"),i.default.createElement("h1",{className:"ple-edit-setting__title"},"ç»å¸è®¾ç½®"),i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("label",{htmlFor:"frm_width"},"åå®½")),i.default.createElement("dd",{className:"ple-type-input"},i.default.createElement("input",{type:"number",name:"width",id:"frm_width",min:1,max:999,maxLength:3,value:t.width,onChange:function(t){return e._change(t)},style:{width:"109px"},required:!0}),i.default.createElement("span",null,"px"))),i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("label",{htmlFor:"frm_height"},"åé«")),i.default.createElement("dd",{className:"ple-type-input"},i.default.createElement("input",{type:"number",name:"height",id:"frm_height",min:1,max:999,value:t.height,onChange:function(t){return e._change(t)},style:{width:"109px"},required:!0}),i.default.createElement("span",null,"px"))),i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("label",{htmlFor:"frm_column"},"åæ°")),i.default.createElement("dd",{className:"ple-type-input"},i.default.createElement("input",{type:"number",name:"column",id:"frm_column",min:1,max:99,value:t.column,onChange:function(t){return e._change(t)},style:{width:"109px"},required:!0}),i.default.createElement("span",null,"ea"))),i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("label",{htmlFor:"frm_height"},"ç»å¸å®½åº¦")),i.default.createElement("dd",{className:"ple-type-input"},i.default.createElement("span",{style:{color:"#bcbcbc"}},t.column*t.width,"Â px"))),i.default.createElement("dl",{className:"ple-type-input"},i.default.createElement("dt",null,i.default.createElement("label",{htmlFor:"frm_outerMargin"},"ç»å¸è¾¹è·")),i.default.createElement("dd",null,i.default.createElement("input",{type:"number",name:"outerMargin",id:"frm_outerMargin",min:0,max:500,value:t.outerMargin,onChange:function(t){return e._change(t)},style:{width:"109px"},required:!0}),i.default.createElement("span",null,"px"))),i.default.createElement("dl",{className:"ple-type-input"},i.default.createElement("dt",null,i.default.createElement("label",{htmlFor:"frm_innerMargin"},"å¾çé´è·")),i.default.createElement("dd",null,i.default.createElement("input",{type:"number",name:"innerMargin",id:"frm_innerMargin",min:0,max:500,value:t.innerMargin,onChange:function(t){return e._change(t)},style:{width:"109px"},required:!0}),i.default.createElement("span",null,"px"))),i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("label",{htmlFor:"frm_bgColor"},"èæ¯è²")),i.default.createElement("dd",null,i.default.createElement("div",{className:"ple-edit-bgColor"},i.default.createElement("span",{className:(0,s.default)("ple-edit-bgColor__inputBox",{"ple-edit-bgColor__inputBox-active":t.popup_bgColor})},i.default.createElement("input",{type:"text",name:"bgColor",id:"frm_bgColor",value:t.bgColor,onChange:function(t){return e._change(t)},onClick:function(t){return e._openBgColorPicker(t)},readOnly:!0,required:!0,className:"ple-edit-bgColor__input",style:{backgroundColor:t.bgColor}})),t.popup_bgColor&&i.default.createElement("div",{className:"ple-edit-bgColor__popup"},i.default.createElement("div",{className:"ple-edit-bgColor__picker"},i.default.createElement(u.default,{onChange:function(t){return e.setState({bgColor:t})},color:t.bgColor}))))))),i.default.createElement("nav",{className:"ple-edit-setting__buttons"},i.default.createElement("span",null,i.default.createElement("button",{type:"button",onClick:function(){return e._reset()}},"éç½®")),i.default.createElement("span",null,i.default.createElement("button",{type:"submit",className:"ple-submit"},"åºç¨"))))}}]),t}();f.displayName="EditLayoutSetting",f.defaultProps={submit:function(e){},setting:null,defaultSetting:{width:100,height:100,column:5,outerMargin:10,innerMargin:10,freeMode:!1,bgColor:"rgba(255,255,255,1)"}},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=y(n(0)),i=n(7),a=y(n(2)),u=y(n(5)),s=h(n(6)),l=y(n(75)),c=y(n(76)),f=y(n(77)),p=h(n(3)),d=y(n(79));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dragTarget=null,n.dragPosition=[],n.$gridItems=null,n.$dragItem=null,n.uploading=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"getGridsterItem",value:function(){var e=this,t=this.props,n=null;return this.$gridItems=(0,u.default)(t.element).find(".ple-grid > div"),this.$gridItems.each(function(t,r){var o=(0,u.default)(r),i=o.offset();if(i.left<e.dragPosition[0]&&i.left+o.width()>e.dragPosition[0]&&i.top<e.dragPosition[1]&&i.top+o.height()>e.dragPosition[1])return n=o.data("key"),!1}),n}},{key:"_selectItem",value:function(e){var t=this.props,n=(0,d.default)(t,e);t.api.side.select(n)}},{key:"_removeItems",value:function(){var e=this.props,t=e.api.side.getKeys("selected");if(t.length)confirm("ç¡®å®è¦å é¤è¿å¼ å¾çå?")&&e.api.side.remove(t);else{if(!confirm("ç¡®è®¤å é¤å¨é¨å¾çå?"))return;t=e.api.side.getKeys("all"),e.api.side.remove(t)}}},{key:"_upload",value:function(e){this.props.api.side.upload(e)}},{key:"_attach",value:function(){try{var e=this.props.api.side.getKeys("selected"),t=this.props.api.side.attachToGrid(e);if(t)throw t}catch(e){alert(e.message)}}},{key:"_dragStartItem",value:function(e){var t=this,n=this.props;e.dataTransfer.setData("text/plain",null),this.$gridItems=(0,u.default)(n.element).find(".ple-grid > div"),this.$gridItems.on("dragover",function(e){e.preventDefault(),(0,u.default)(e.currentTarget).hasClass("ple-grid__item-hover")||(0,u.default)(e.currentTarget).addClass("ple-grid__item-hover")}).on("dragleave",function(e){e.preventDefault(),(0,u.default)(e.currentTarget).removeClass("ple-grid__item-hover")}).on("drop",function(e){e.preventDefault(),(0,u.default)(e.currentTarget).removeClass("ple-grid__item-hover"),t.dragTarget=(0,u.default)(e.currentTarget).data("key")})}},{key:"_dragEndItem",value:function(e){var t=this.props;this.$gridItems.off(),this.$gridItems=null,null!==this.dragTarget&&(t.dispatch(s.body.attachImage(this.dragTarget,(0,u.default)(e.currentTarget).data("image"))),this.dragTarget=null)}},{key:"_touchStartItem",value:function(e){this.$dragItem=(0,u.default)(e.currentTarget).clone().removeAttr("draggable").addClass("ple-side__placeholder").width((0,u.default)(e.currentTarget).width()).height((0,u.default)(e.currentTarget).height()),(0,u.default)("body").append(this.$dragItem)}},{key:"_touchMoveItem",value:function(e){p.util.checkSupportCss("touch-action","pan-y")||e.preventDefault();var t=e.nativeEvent.touches[0];this.dragPosition=[t.pageX,t.pageY],this.$dragItem.css({left:t.pageX-.5*this.$dragItem.width(),top:t.pageY-.5*this.$dragItem.height()})}},{key:"_touchEndItem",value:function(e){var t=this.props;if(this.$dragItem.remove(),this.$dragItem=null,this.dragPosition.length>0){if(this.dragTarget=this.getGridsterItem(),null===this.dragTarget)return;t.dispatch(s.body.attachImage(this.dragTarget,(0,u.default)(e.currentTarget).data("image"))),this.dragPosition=[]}}},{key:"uploadFiles",value:function(e){this.props.api.side.upload(e.target.files)}},{key:"render",value:function(){var e=this,t=this.props;return o.default.createElement("aside",{className:"ple-side","data-filecount":Object.keys(t.tree.side.files).length},o.default.createElement("div",{className:(0,a.default)("ple-side__wrap",{"ple-side__wrap-show":t.tree.side.visible})},0==Object.keys(t.tree.side.files).length&&o.default.createElement("div",null,o.default.createElement("div",{className:"downloads-icon"}),o.default.createElement("div",{style:{position:"absolute",top:"280px",width:"240px",textAlign:"center",color:"#999"}},"è¯·ä¸ä¼ å¾ç")),o.default.createElement("span",{onClick:function(){return t.api.side.toggleSelectAll(!1)},className:"ple-side__background"}),o.default.createElement(l.default,{show:t.tree.side.visible,onClick:function(){return t.api.util.toggleSide(void 0)}}),o.default.createElement(c.default,{onAttach:function(){return e._attach()},onToggleSelect:function(){return t.api.side.toggleSelectAll()},onUpload:function(t){return e._upload(t)},onRemove:function(){return e._removeItems()}}),o.default.createElement(f.default,{files:t.tree.side.files,onSelect:function(t){return e._selectItem(t)},onDragStart:function(t){return e._dragStartItem(t)},onDragEnd:function(t){return e._dragEndItem(t)},onTouchStart:function(t){return e._touchStartItem(t)},onTouchMove:function(t){return e._touchMoveItem(t)},onTouchEnd:function(t){return e._touchEndItem(t)},progress:t.tree.side.progressPercent}),o.default.createElement("div",{className:"ple-side__btns"},o.default.createElement("button",{className:"xgj-btn-primary"},o.default.createElement("i",{class:"pic-icon"}),"å¾çåºå¯¼å¥"),o.default.createElement("span",{type:"button",className:"btn"},o.default.createElement("i",{className:"loc-icon"}),"æ¬å°ä¸ä¼ ",o.default.createElement("input",{id:"pleUpload",type:"file",accept:"image/gif,image/png,image/bmp,image/jpeg,image/jpg",onChange:function(t){return e.uploadFiles(t)},multiple:!0})))))}}]),t}();g.displayName="Side",g.defaultProps={tree:{},setting:{},api:{},dispatch:null},t.default=(0,i.connect)(function(e){return Object.assign({},e)})(g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=u(o),a=u(n(2));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props;return i.default.createElement("button",{type:"button",onClick:e.onClick,className:"ple-side__toggle"},i.default.createElement("span",null,i.default.createElement("i",{className:(0,a.default)("ple-sp-ico","ple-abs",{"ple-ico-arrow-right":e.show,"ple-ico-arrow-left":!e.show})},"Toggle sidebar")))}}]),t}();s.displayName="ToggleSideButton",s.defaultProps={show:!1,onClick:function(){}},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.comps={inputFile:null},n.state={timestamp:Date.now()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"upload",value:function(e){this.props.onUpload(e.target.files),this.setState({timestamp:Date.now()})}},{key:"render",value:function(){var e=this,t=this.props,n=this.state,r=this.comps;return o.default.createElement("nav",{className:"ple-sideNavigation ple-side__navigation"},o.default.createElement("div",{className:"ple-sideNavigation__wrap"},o.default.createElement("button",{type:"button",title:"æ·»å å°å·¦ä¾§",onClick:t.onAttach},o.default.createElement("i",{className:"ple-sp-ico ple-ico-reply ple-abs"},"Moving the image to grid block")),o.default.createElement("button",{type:"button",title:"å¨é/åæ¶éæ©",onClick:t.onToggleSelect},o.default.createElement("i",{className:"ple-sp-ico ple-ico-select ple-abs"},"Toggle all select")),o.default.createElement("span",{title:"ä¸ä¼ å¾ç",key:n.timestamp,style:{display:"none"}},o.default.createElement("input",{ref:function(e){r.inputFile=e},type:"file",accept:"image/*",onChange:function(t){return e.upload(t)},multiple:!0}),o.default.createElement("i",{className:"ple-sp-ico ple-ico-upload ple-abs"},"upload images")),o.default.createElement("button",{type:"button",title:"ç§»é¤å¾ç",onClick:t.onRemove},o.default.createElement("i",{className:"ple-sp-ico ple-ico-trash ple-abs"},"remove images"))))}}]),t}();i.displayName="Navigation",i.defaultProps={onRemove:function(){},onToggleSelect:function(){},onAttach:function(){},onUpload:function(){}},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(0)),i=a(n(78));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=this.props;return o.default.createElement("div",{className:"ple-sideItems"},o.default.createElement("div",{className:"ple-sideItems__wrap"},o.default.createElement("ul",null,Object.keys(e.files).map(function(t){return o.default.createElement(i.default,{key:t,id:t,image:e.files[t].image,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd,onClick:function(){return e.onSelect(parseInt(t))},active:e.files[t].active})}),null!==e.progress&&o.default.createElement("li",{className:"ple-sideItems__loading"},o.default.createElement("div",{className:"ple-sideItems__progress"},o.default.createElement("span",{className:"ple-sideItems__bar",style:{height:e.progress+"%"}}),o.default.createElement("span",{className:"ple-sideItems__percent"},e.progress+"%"))))))}}]),t}();u.displayName="Items",u.defaultProps={files:[],onSelect:function(e){},onDragStart:null,onDragEnd:null,onTouchStart:null,onTouchMove:null,onTouchEnd:null,progress:null},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),a=s(n(2)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=Object.assign({},u.util.isTouchDevice()?{onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd}:{onDragStart:e.onDragStart,onDragEnd:e.onDragEnd});return i.default.createElement("li",null,i.default.createElement("span",r({type:"button","data-id":e.id,"data-image":e.image,draggable:!0,onClick:e.onClick},t,{style:{backgroundImage:"url('"+e.image+"')"},className:(0,a.default)({"ple-sideItems__item-active":e.active})})))}}]),t}();l.displayName="Item",l.defaultProps={image:null,id:null,active:null,onClick:null,onDragStart:null,onDragEnd:null,onTouchStart:null,onTouchMove:null,onTouchEnd:null},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.keyboard.keyName,o=e.tree.side.files,i=null,a=!1,u={};if("SHIFT"!==n){var s=null;Object.keys(e.tree.side.files).forEach(function(n){var r=e.tree.side.files[n];if(parseInt(n)===t)return s=r,!1}),(r=!0===s.active?null:t)||!0!==s.active||(r=s.key)}switch(n){case"CTRL":case"CMD":i="add";break;case"SHIFT":i="range"}Object.keys(o).forEach(function(e){var n=function(e,t,n,r,o){switch(o){case"add":return{key:e,active:e===r?!t.active:t.active};case"range":return(n=n||0)<r?{key:e,active:e>=n&&e<=r}:{key:e,active:e<=n&&e>=r}}return e===r?{key:e,active:!t.active}:{key:e,active:!1}}(parseInt(e),o[e],r,t,i);n.active&&(a=!0),u[e]=n}),a||(r=null);return u};var r=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=s(n(81)),i=s(n(83)),a=function(e){return e&&e.__esModule?e:{default:e}}(n(84)),u=s(n(85));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.default=(0,r.combineReducers)({setting:o.setting,api:o.api,keyboard:o.keyboard,element:o.element,tree:(0,r.combineReducers)({side:a.default,body:(0,r.combineReducers)({setting:i.setting,grid:i.grid,activeBlock:i.activeBlock}),cropper:(0,r.combineReducers)({visible:u.visible,item:u.item,key:u.key})})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.setting=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];Object.assign({},e);switch(t.type){case o.INIT_PLE:return Object.assign({},{base:r({},a.setting.base,{uploadScript:t.preference.uploadScript||a.setting.base.uploadScript,uploadParamsConvertFunc:t.preference.uploadParamsConvertFunc||a.setting.base.uploadParamsConvertFunc,updateStoreFunc:t.preference.updateStoreFunc||a.setting.base.updateStoreFunc}),side:r({},a.setting.side,t.preference.side),body:r({},a.setting.body,t.preference.body)});default:return e}},t.api=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case o.INIT_PLE:return t.api;default:return e}},t.keyboard=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(arguments[1].type){case o.INIT_PLE:return new i.default;default:return e}},t.element=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case o.INIT_PLE:return t.element;default:return e}};var o=u(n(4)),i=function(e){return e&&e.__esModule?e:{default:e}}(n(82)),a=u(n(14));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(5)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3));var a=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventName="PLE_"+i.number.getTimeStamp(),this.code=null,this.keyName=null,this.names={17:"CTRL",18:"ALT",91:"CMD",93:"CMD",16:"SHIFT"},(0,o.default)(window).on("keydown."+this.eventName,function(e){return t._keyDown(e)})}return r(e,[{key:"apply",value:function(e){this.code=e,this.keyName=this.names[this.code]||null}},{key:"_keyDown",value:function(e){var t=this;this.apply(e.keyCode),(0,o.default)(window).on("keyup."+this.eventName,function(){return t._keyUp()}).on("contextmenu."+this.eventName,function(){return t._keyUp()}).on("blur."+this.eventName,function(){return t._keyUp()}).off("keydown."+this.eventName)}},{key:"_keyUp",value:function(){var e=this;this.apply(null),(0,o.default)(window).on("keydown."+this.eventName,function(t){return e._keyDown(t)}).off("contextmenu."+this.eventName+" keyup."+this.eventName+" blur."+this.eventName)}},{key:"destroy",value:function(){(0,o.default)(window).off("keydown."+this.eventName+" contextmenu."+this.eventName+" keyup."+this.eventName+" blur."+this.eventName)}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.setting=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.setting.body.setting,t=arguments[1];switch(t.type){case i.INIT_PLE:try{return o({},e,t.preference.body.setting)}catch(t){return e}case i.GRID_SETTING_UPDATE:return o({},e,t.value)}return e},t.grid=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=Object.assign({},e);switch(t.type){case i.INIT_PLE:var s={};try{if(t.preference.body.grid instanceof Array)t.preference.body.grid.forEach(function(e,t){s[t]=e});else{if("object"!==r(t.preference.body.grid))throw"error";s=t.preference.body.grid}Object.keys(s).forEach(function(e){n[l++]=o({color:u.setting.body.blockColor},s[e],{indexPrefix:c})})}catch(e){n={}}return n;case i.GRID_ADD_BLOCK:return n[l++]=o({color:u.setting.body.blockColor,layout:{x:1/0,y:1/0,w:1,h:1}},t.value,{indexPrefix:c}),n;case i.GRID_REMOVE_BLOCK:return t.keys&&t.keys.length?(t.keys.forEach(function(e){delete n[e]}),n):e;case i.GRID_SHUFFLE_BLOCKS:return Object.keys(n).map(function(e){return o({},n[e],{layout:{x:a.number.randomRange(0,t.value.x-1),y:a.number.randomRange(0,t.value.y-1),w:a.number.randomRange(1,t.value.w),h:a.number.randomRange(1,t.value.h)},indexPrefix:c++})});case i.GRID_DUPLICATE_BLOCK:return t.keys.forEach(function(e){n[e]&&(n[l++]=Object.assign({},n[e]))}),n;case i.GRID_CHANGE_COLOR:return t.keys.forEach(function(e){n[e]&&(n[e].color=t.color)}),n;case i.GRID_ATTACH_IMAGES:return a.object.isArray(t.value)?(t.activeBlocks&&t.activeBlocks.length?Object.keys(n).forEach(function(e){t.value.length&&-1!==t.activeBlocks.indexOf(e)&&(n[e].image={src:t.value.splice(0,1)[0],position:"50% 50%",size:"cover"})}):(Object.keys(n).forEach(function(e){n[e].image||t.value&&t.value.length&&(n[e].image={src:t.value.splice(0,1)[0],position:"50% 50%",size:"cover"})}),t.value.length&&t.value.forEach(function(r,o){n[l++]={color:u.setting.body.blockColor,layout:{x:(Object.keys(e).length+o)%t.columns,y:1/0,w:1,h:1},image:{src:r,position:"50% 50%",size:"cover"},indexPrefix:c}})),n):e;case i.GRID_ATTACH_IMAGE:return t.image&&"string"==typeof t.image&&n[t.keys]?(n[t.keys].image={src:t.image,position:"50% 50%",size:"cover"},n):e;case i.GRID_UPDATE_BLOCKS:return Object.assign({},e,t.value);case i.CROPPER_CLOSE:return n[t.key]?(t.position&&(n[t.key].image.position=t.position),t.size&&(n[t.key].image.size=t.size),n):e}return e},t.activeBlock=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=Object.assign([],e);switch(t.type){case i.GRID_ACTIVE_BLOCK:return t.value;case i.GRID_REMOVE_BLOCK:return t.keys&&t.keys.length?(t.keys.forEach(function(e){n.indexOf(e)<0||n.splice(n.indexOf(e),1)}),n):[]}return e};var i=s(n(4)),a=s(n(3)),u=s(n(14));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var l=0,c=0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.side,t=arguments[1],n=Object.assign({},e),a={};switch(t.type){case o.INIT_PLE:try{return t.preference.side.files.forEach(function(e){a[u++]={image:e,active:!1}}),r({},e,t.preference.side,{files:r({},e.files,a)})}catch(t){return e}case o.SIDE_VISIBLE:return r({},e,{visible:t.value});case o.SIDE_TOGGLE:return r({},e,{visible:!e.visible});case o.SIDE_ADD_FILES:return t.files.forEach(function(e){a[u++]={image:e,active:!1}}),r({},n,{files:r({},n.files,a)});case o.SIDE_REMOVE_FILES:return t.keys.length?(t.keys.forEach(function(e){delete n.files[e]}),n):e;case o.SIDE_UPDATE_SELECTED:return t.value&&Object.keys(t.value).length?(Object.keys(t.value).forEach(function(e){n.files[e]&&(n.files[e].active=t.value[e].active)}),n):e;case o.SIDE_UPDATE_PROGRESS:return r({},e,{progressPercent:t.value});default:return e}};var o=a(n(4)),i=a(n(14));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u=0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visible=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case r.CROPPER_OPEN:return!0;case r.CROPPER_CLOSE:return!1;default:return e}},t.item=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case r.CROPPER_OPEN:return t.item;case r.CROPPER_CLOSE:return null;default:return e}},t.key=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case r.CROPPER_OPEN:return t.key;case r.CROPPER_CLOSE:return null;default:return e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){this.side=new r.default(e),this.grid=new o.default(e),this.cropper=new i.default(e),this.util=new a.default(e)};var r=u(n(87)),o=u(n(88)),i=u(n(89)),a=u(n(90));function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(6)),i=a(n(3));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.uploading=!1}return r(e,[{key:"getKeys",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.store.getState().tree.side.files,r=[];switch(e){case"selected":Object.keys(n).forEach(function(e){n[e].active&&r.push(parseInt(e))});break;case"value":t.forEach(function(e){n[e]&&r.push(parseInt(e))});break;case"all":default:r=Object.keys(n).map(function(e){return parseInt(e)})}return r}},{key:"getItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.store.getState().tree.side,n={};return(e=this.getKeys("value",e)).forEach(function(e){t.files[e]&&(n[e]=t.files[e])}),n}},{key:"getImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.getItems(e);return Object.keys(t).map(function(e){return t[e].image})}},{key:"add",value:function(e){try{if(!(e instanceof Array))throw new Error("not found files");this.store.dispatch(o.side.addFiles(e))}catch(e){return e}}},{key:"selection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var n={},r=this.getKeys("value",e);if(r.length<=0)throw new Error("not found select item");r.forEach(function(e){n[e]={key:e,active:t}}),this.store.dispatch(o.side.updateSelected(n))}catch(e){return e}}},{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.store.dispatch(o.side.updateSelected(e))}},{key:"toggleSelectAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if("boolean"==typeof e){var t=this.getKeys("all");this.selection(t,e)}else{var n=this.getKeys("selected").length,r=this.getKeys("all");this.selection(r,!(n>0))}}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{if(!e.length)throw new Error("Not found items.");this.store.dispatch(o.side.removeFiles(e))}catch(e){return e}}},{key:"clear",value:function(){var e=this.getKeys("all");this.store.dispatch(o.side.removeFiles(e))}},{key:"upload",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.uploading){var r=this.store.getState();this.uploading=!0,n.start&&n.start(),i.uploader(e,r.setting.base.uploadScript).progress(function(e,i){switch(e){case"start":t.store.dispatch(o.side.updateProgress(0));break;case"progress":var a=parseInt(i.loaded/i.total*100);t.store.dispatch(o.side.updateProgress(a)),n.progress&&n.progress(i.loaded,i.total,a);break;case"done":if(t.store.dispatch(o.side.updateProgress(null)),!i.data)return;if(r.setting.base.uploadParamsConvertFunc){var u=r.setting.base.uploadParamsConvertFunc(i.data);t.store.dispatch(o.side.addFiles([u]))}else t.store.dispatch(o.side.addFiles([i.data.url]));return void(n.complete&&n.complete(i.data))}}).done(function(){t.uploading=!1,n.completeAll&&n.completeAll()}).fail(function(e){t.uploading=!1,n.fail&&n.fail(e)})}}},{key:"attachToGrid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.store.getState().tree.body;try{var n=this.getImages(e);if(!n.length)throw new Error("è¯·éæ©å¾ç.");this.store.dispatch(o.body.attachImages(n,t.setting.column,t.activeBlock))}catch(e){return e}}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(6));a(n(3));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t}return o(e,[{key:"getKeys",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.store.getState().tree.body,r=[];switch(e){case"selected":return n.activeBlock;case"value":return r=[],t.forEach(function(e){n.grid[e]&&r.push(e)}),r;case"all":default:return Object.keys(n.grid).map(function(e){return e})}}},{key:"getBlocks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.store.getState().tree.body,r=[],o={};switch(e){case"selected":r=this.getKeys("selected");break;case"value":r=this.getKeys("value",t);break;case"all":default:return n.grid}return r.forEach(function(e){n.grid[e]&&(o[e]=n.grid[e])}),o}},{key:"shuffle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={x:this.store.getState().tree.body.setting.column,y:2,w:2,h:2};e=Object.assign({},t,e),this.store.dispatch(i.body.shuffleBlocks(e))}},{key:"assignImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.store.getState().tree.body;this.store.dispatch(i.body.attachImages(e,t.setting.column,t.activeBlock))}},{key:"assignImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!==e&&null!==t&&this.store.dispatch(i.body.attachImage(e,t))}},{key:"removeImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.store.getState(),n=Object.assign({},t.tree.body.grid);e.forEach(function(e){n[e].image=null}),this.update(n)}},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.store,n=t.getState,o=t.dispatch,a=n().tree.body,u={layout:{x:Object.keys(a.grid).length%a.setting.column,y:1/0,w:1,h:1},color:null,image:null};(e=e&&e.length?e:[null]).forEach(function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},u,e)).layout=Object.assign({},u.layout,e.layout),e.image=e.image?r({src:null,position:"50% 50%",size:"cover"},e.image):null,o(i.body.addBlock(e))}(e)})}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.store.dispatch(i.body.updateBlocks(e))}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.store.dispatch(i.body.removeBlock(e))}},{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e=e.map(function(e){return e.toString()}),this.store.dispatch(i.body.activeBlock(e))}},{key:"unselect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.store.getState(),n=Object.assign([],t.tree.body.activeBlock);e.forEach(function(e){e=e.toString(),-1!==n.indexOf(e)&&n.splice(n.indexOf(e),1)}),this.store.dispatch(i.body.activeBlock(n))}},{key:"toggleSelectAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.store.getState();"boolean"!=typeof e&&(e=!t.tree.body.activeBlock.length),e?this.select(this.getKeys("all")):this.select([])}},{key:"duplicate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.store.dispatch(i.body.duplicateBlock(e))}},{key:"getPreference",value:function(){return this.store.getState().tree.body.setting}},{key:"setPreference",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},this.getPreference(),e);this.store.dispatch(i.body.updateSetting(t))}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6));var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t}return r(e,[{key:"open",value:function(e){var t=this.store.getState(),n=null;try{if(!(n=t.tree.body.grid[e]).image)throw"Not found image in item"}catch(e){return void alert(e)}this.store.dispatch(o.cropper.open(e,n))}},{key:"close",value:function(e,t,n){this.store.dispatch(o.cropper.close(e,t,n))}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(5)),a=l(n(6)),u=l(n(3)),s=n(22);function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t}return o(e,[{key:"toggleSide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;try{var t=this.store.getState().tree.side.visible,n=void 0===e?!t:e;this.store.dispatch(a.side.visible(n))}catch(e){console.warn("Error action",e)}}},{key:"export",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return null;var n=this.store.getState();function r(){if(!t)return[];var e=n.api.side.getKeys("all");return n.api.side.getImages(e)}function o(){var e=n.api.grid.getBlocks("all");return Object.keys(e).sort().map(function(n){return delete e[n].indexPrefix,!t&&e[n]&&e[n].image&&delete e[n].image,e[n]})}switch(e){case"side":return r();case"grid":return o();case"preference":return n.api.grid.getPreference();case"all":return{side:r(),grid:o(),preference:n.api.grid.getPreference()}}return null}},{key:"import",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=this.store.getState();e.side&&(0,s.isArray)(e.side)&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&n.api.side.clear(),n.api.side.add(e)}(e.side),e.grid&&(0,s.isArray)(e.grid)&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t){var r=n.api.grid.getKeys("all");n.api.grid.remove(r)}n.api.grid.add(e)}(e.grid),e.preference&&"object"===r(e.preference)&&n.api.grid.setPreference(e.preference)}}},{key:"makeImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jpg",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.75,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=i.default.Deferred(),a=this.store.getState(),s=a.tree.body,l=s.setting,c=s.grid;return u.makingImage(a.element.querySelector(".ple-grid"),{setting:l,grid:c},{format:e,quality:t,sampling:n,output:r}).done(function(e){o.resolve(e)}).progress(function(e,t,n){o.notify(e,t,n)}).fail(function(e){o.reject(e)}),o.promise()}}]),e}();t.default=c},function(e,t){}]).default});